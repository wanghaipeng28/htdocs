<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <title>ORM &mdash; odoo 8.0 documentation</title>
    
    <link rel="stylesheet" href="odoo.css" tppabs="https://www.odoo.com/documentation/8.0/_static/odoo.css" type="text/css" />
    <link rel="stylesheet" href="pygments.css" tppabs="https://www.odoo.com/documentation/8.0/_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="patchqueue.css" tppabs="https://www.odoo.com/documentation/8.0/_static/patchqueue.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="jquery.js" tppabs="https://www.odoo.com/documentation/8.0/_static/jquery.js"></script>
    <script type="text/javascript" src="underscore.js" tppabs="https://www.odoo.com/documentation/8.0/_static/underscore.js"></script>
    <script type="text/javascript" src="doctools.js" tppabs="https://www.odoo.com/documentation/8.0/_static/doctools.js"></script>
    <script type="text/javascript" src="patchqueue.js" tppabs="https://www.odoo.com/documentation/8.0/_static/patchqueue.js"></script>
    <script type="text/javascript" src="scrollspy.js" tppabs="https://www.odoo.com/documentation/8.0/_static/bootstrap/js/scrollspy.js"></script>
    <script type="text/javascript" src="affix.js" tppabs="https://www.odoo.com/documentation/8.0/_static/bootstrap/js/affix.js"></script>
    <script type="text/javascript" src="tooltip.js" tppabs="https://www.odoo.com/documentation/8.0/_static/bootstrap/js/tooltip.js"></script>
    <script type="text/javascript" src="collapse.js" tppabs="https://www.odoo.com/documentation/8.0/_static/bootstrap/js/collapse.js"></script>
    <script type="text/javascript" src="dropdown.js" tppabs="https://www.odoo.com/documentation/8.0/_static/bootstrap/js/dropdown.js"></script>
    <script type="text/javascript" src="ZeroClipboard.min.js" tppabs="https://www.odoo.com/documentation/8.0/_static/zeroclipboard-2.1.6/ZeroClipboard.min.js"></script>
    <script type="text/javascript" src="app.js" tppabs="https://www.odoo.com/documentation/8.0/_static/app.js"></script>
    <link rel="top" title="odoo 8.0 documentation" href="../index.html" />
    <link rel="up" title="Reference" href="../reference.html" />
    <link rel="next" title="Data Files" href="data.html" />
    <link rel="prev" title="Reference" href="../reference.html" /><link rel="canonical" href="https://www.odoo.com/documentation/8.0/reference/orm.html"/>
  </head>
  <body><header class="navbar navbar-default navbar-static-top docs-nav" id="top" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-main">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="index.html" tppabs="https://www.odoo.com/documentation/8.0/index.html" class="o_logo navbar-brand">
        <span class="o_logo_main">odoo</span><span class="o_logo_app">doc</span>
      </a>
      
        <div class="versions navbar-brand">
          <a class="dropdown-toggle" data-toggle="dropdown">
            8.0 <span class="caret"></span>
          </a>
          <ul class="dropdown-menu" role="menu">
            
              <li><a href="javascript:if(confirm('https://www.odoo.com/documentation/master/reference/orm.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://www.odoo.com/documentation/master/reference/orm.html'" tppabs="https://www.odoo.com/documentation/master/reference/orm.html">master</a></li>
            
          </ul>
        </div>
      
    </div>
    <nav class="collapse navbar-collapse navbar-main" role="navigation">
      <ul class="current nav navbar-nav navbar-right">
<li class="toctree-l1 dropdown"><a class="dropdown-toggle reference internal" data-toggle="dropdown" href="tutorials.html" tppabs="https://www.odoo.com/documentation/8.0/tutorials.html">Tutorials</a><ul class="dropdown-menu">
<li class="toctree-l2"><a class="reference internal" href="website.html" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html">Building a Website</a></li>
<li class="toctree-l2"><a class="reference internal" href="backend.html" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html">Building a Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="themes.html" tppabs="https://www.odoo.com/documentation/8.0/howtos/themes.html">Building Themes</a></li>
<li class="toctree-l2"><a class="reference internal" href="web.html" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html">Building Interface Extensions</a></li>
</ul>
</li>
<li class="toctree-l1 dropdown"><a class="dropdown-toggle reference internal" data-toggle="dropdown" href="setup.html" tppabs="https://www.odoo.com/documentation/8.0/setup.html">Setting Up</a><ul class="dropdown-menu">
<li class="toctree-l2"><a class="reference internal" href="install.html" tppabs="https://www.odoo.com/documentation/8.0/setup/install.html">Installing Odoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy.html" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html">Deploying Odoo</a></li>
</ul>
</li>
<li class="toctree-l1 current dropdown"><a class="dropdown-toggle reference internal" data-toggle="dropdown" href="reference.html" tppabs="https://www.odoo.com/documentation/8.0/reference.html">Reference</a><ul class="current dropdown-menu">
<li class="toctree-l2 current"><a class="current reference internal" href="">ORM</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html">Data Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="actions.html" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html">Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="module.html" tppabs="https://www.odoo.com/documentation/8.0/reference/module.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmdline.html" tppabs="https://www.odoo.com/documentation/8.0/reference/cmdline.html">Command-line interface: odoo.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html" tppabs="https://www.odoo.com/documentation/8.0/reference/security.html">Security in Odoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html" tppabs="https://www.odoo.com/documentation/8.0/reference/testing.html">Testing Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="http.html" tppabs="https://www.odoo.com/documentation/8.0/reference/http.html">Web Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="qweb.html" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html">QWeb</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html">Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="translations.html" tppabs="https://www.odoo.com/documentation/8.0/reference/translations.html">Translating Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="reports.html" tppabs="https://www.odoo.com/documentation/8.0/reference/reports.html">QWeb Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows.html" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html">Workflows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_integration.html" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html">Web Service</a><ul class="simple">
</ul>
</li>
</ul>

    </nav>
  </div>
</header><div class="document-super ">
    

    <div class="document"><div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
      <ul class="current nav">
<li class="toctree-l1"><a class="reference internal" href="tutorials.html" tppabs="https://www.odoo.com/documentation/8.0/tutorials.html">Tutorials</a><ul class="nav">
<li class="toctree-l2"><a class="reference internal" href="website.html" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html">Building a Website</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="website.html#creating-a-basic-module" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#creating-a-basic-module">Creating a basic module</a></li>
<li class="toctree-l3"><a class="reference internal" href="website.html#a-demonstration-module" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#a-demonstration-module">A demonstration module</a></li>
<li class="toctree-l3"><a class="reference internal" href="website.html#to-the-browser" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#to-the-browser">To the browser</a></li>
<li class="toctree-l3"><a class="reference internal" href="website.html#templates" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#templates">Templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="website.html#storing-data-in-odoo" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#storing-data-in-odoo">Storing data in Odoo</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="website.html#defining-the-data-model" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#defining-the-data-model">Defining the data model</a></li>
<li class="toctree-l4"><a class="reference internal" href="website.html#demonstration-data" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#demonstration-data">Demonstration data</a></li>
<li class="toctree-l4"><a class="reference internal" href="website.html#accessing-the-data" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#accessing-the-data">Accessing the data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="website.html#website-support" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#website-support">Website support</a></li>
<li class="toctree-l3"><a class="reference internal" href="website.html#urls-and-routing" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#urls-and-routing">URLs and routing</a></li>
<li class="toctree-l3"><a class="reference internal" href="website.html#field-edition" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#field-edition">Field edition</a></li>
<li class="toctree-l3"><a class="reference internal" href="website.html#administration-and-erp-integration" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#administration-and-erp-integration">Administration and ERP integration</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="website.html#a-brief-and-incomplete-introduction-to-the-odoo-administration" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#a-brief-and-incomplete-introduction-to-the-odoo-administration">A brief and incomplete introduction to the Odoo administration</a></li>
<li class="toctree-l4"><a class="reference internal" href="website.html#editing-in-the-odoo-administration" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#editing-in-the-odoo-administration">Editing in the Odoo administration</a></li>
<li class="toctree-l4"><a class="reference internal" href="website.html#relations-between-models" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#relations-between-models">Relations between models</a></li>
<li class="toctree-l4"><a class="reference internal" href="website.html#discussions-and-notifications" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#discussions-and-notifications">Discussions and notifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="website.html#selling-courses" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#selling-courses">Selling courses</a></li>
<li class="toctree-l4"><a class="reference internal" href="website.html#altering-existing-views" tppabs="https://www.odoo.com/documentation/8.0/howtos/website.html#altering-existing-views">Altering existing views</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="backend.html" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html">Building a Module</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="backend.html#start-stop-the-odoo-server" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#start-stop-the-odoo-server">Start/Stop the Odoo server</a></li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#build-an-odoo-module" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#build-an-odoo-module">Build an Odoo module</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="backend.html#composition-of-a-module" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#composition-of-a-module">Composition of a module</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#module-structure" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#module-structure">Module structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#object-relational-mapping" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#object-relational-mapping">Object-Relational Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#model-fields" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#model-fields">Model fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#data-files" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#data-files">Data files</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#actions-and-menus" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#actions-and-menus">Actions and Menus</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#basic-views" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#basic-views">Basic views</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="backend.html#generic-view-declaration" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#generic-view-declaration">Generic view declaration</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#tree-views" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#tree-views">Tree views</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#form-views" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#form-views">Form views</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#search-views" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#search-views">Search views</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#relations-between-models" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#relations-between-models">Relations between models</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="backend.html#relational-fields" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#relational-fields">Relational fields</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#inheritance" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#inheritance">Inheritance</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="backend.html#model-inheritance" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#model-inheritance">Model inheritance</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#view-inheritance" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#view-inheritance">View inheritance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#computed-fields-and-default-values" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#computed-fields-and-default-values">Computed fields and default values</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="backend.html#dependencies" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#dependencies">Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#default-values" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#default-values">Default values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#onchange" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#onchange">Onchange</a></li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#model-constraints" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#model-constraints">Model constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#advanced-views" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#advanced-views">Advanced Views</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="backend.html#id3" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#id3">Tree views</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#calendars" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#calendars">Calendars</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#id4" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#id4">Search views</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#gantt" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#gantt">Gantt</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#graph-views" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#graph-views">Graph views</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#kanban" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#kanban">Kanban</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#workflows" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#workflows">Workflows</a></li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#security" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#security">Security</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="backend.html#group-based-access-control-mechanisms" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#group-based-access-control-mechanisms">Group-based access control mechanisms</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#access-rights" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#access-rights">Access rights</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#record-rules" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#record-rules">Record rules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#wizards" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#wizards">Wizards</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="backend.html#launching-wizards" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#launching-wizards">Launching wizards</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#internationalization" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#internationalization">Internationalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#reporting" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#reporting">Reporting</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="backend.html#printed-reports" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#printed-reports">Printed reports</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#dashboards" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#dashboards">Dashboards</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="backend.html#webservices" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#webservices">WebServices</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="backend.html#xml-rpc-library" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#xml-rpc-library">XML-RPC Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend.html#json-rpc-library" tppabs="https://www.odoo.com/documentation/8.0/howtos/backend.html#json-rpc-library">JSON-RPC Library</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="themes.html" tppabs="https://www.odoo.com/documentation/8.0/howtos/themes.html">Building Themes</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="themes.html#basic-set-up" tppabs="https://www.odoo.com/documentation/8.0/howtos/themes.html#basic-set-up">Basic set up</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="themes.html#static-page" tppabs="https://www.odoo.com/documentation/8.0/howtos/themes.html#static-page">Static Page</a></li>
<li class="toctree-l4"><a class="reference internal" href="themes.html#pimp-your-theme" tppabs="https://www.odoo.com/documentation/8.0/howtos/themes.html#pimp-your-theme">Pimp Your Theme</a></li>
<li class="toctree-l4"><a class="reference internal" href="themes.html#build-your-first-snippet" tppabs="https://www.odoo.com/documentation/8.0/howtos/themes.html#build-your-first-snippet">Build Your First Snippet</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="themes.html#advanced-customization" tppabs="https://www.odoo.com/documentation/8.0/howtos/themes.html#advanced-customization">Advanced Customization</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="themes.html#defining-your-theme-options" tppabs="https://www.odoo.com/documentation/8.0/howtos/themes.html#defining-your-theme-options">Defining Your Theme Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="themes.html#the-image-database" tppabs="https://www.odoo.com/documentation/8.0/howtos/themes.html#the-image-database">The Image Database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="themes.html#theme-selector" tppabs="https://www.odoo.com/documentation/8.0/howtos/themes.html#theme-selector">Theme Selector</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="themes.html#set-up" tppabs="https://www.odoo.com/documentation/8.0/howtos/themes.html#set-up">Set Up</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="web.html" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html">Building Interface Extensions</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="web.html#a-simple-module" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#a-simple-module">A Simple Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="web.html#odoo-javascript-module" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#odoo-javascript-module">Odoo JavaScript Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="web.html#classes" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="web.html#widgets-basics" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#widgets-basics">Widgets Basics</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="web.html#your-first-widget" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#your-first-widget">Your First Widget</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#display-content" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#display-content">Display Content</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#widget-parents-and-children" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#widget-parents-and-children">Widget Parents and Children</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#destroying-widgets" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#destroying-widgets">Destroying Widgets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="web.html#the-qweb-template-engine" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#the-qweb-template-engine">The QWeb Template Engine</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="web.html#using-qweb" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#using-qweb">Using QWeb</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="web.html#widget-helpers" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#widget-helpers">Widget Helpers</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="web.html#widget-s-jquery-selector" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#widget-s-jquery-selector"><tt class="docutils literal"><span class="pre">Widget</span></tt>&#8216;s jQuery Selector</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#easier-dom-events-binding" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#easier-dom-events-binding">Easier DOM Events Binding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="web.html#widget-events-and-properties" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#widget-events-and-properties">Widget Events and Properties</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="web.html#events" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#events">Events</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#properties" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#properties">Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#id3" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#id3">Exercise</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="web.html#modify-existing-widgets-and-classes" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#modify-existing-widgets-and-classes">Modify existing widgets and classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="web.html#translations" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#translations">Translations</a></li>
<li class="toctree-l3"><a class="reference internal" href="web.html#communication-with-the-odoo-server" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#communication-with-the-odoo-server">Communication with the Odoo Server</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="web.html#contacting-models" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#contacting-models">Contacting Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#compoundcontext" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#compoundcontext">CompoundContext</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#queries" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#queries">Queries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="web.html#exercises" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#exercises">Exercises</a></li>
<li class="toctree-l3"><a class="reference internal" href="web.html#existing-web-components" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#existing-web-components">Existing web components</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="web.html#the-action-manager" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#the-action-manager">The Action Manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#client-actions" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#client-actions">Client Actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#architecture-of-the-views" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#architecture-of-the-views">Architecture of the Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#the-form-view-fields" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#the-form-view-fields">The Form View Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="web.html#the-form-view-custom-widgets" tppabs="https://www.odoo.com/documentation/8.0/howtos/web.html#the-form-view-custom-widgets">The Form View Custom Widgets</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="setup.html" tppabs="https://www.odoo.com/documentation/8.0/setup.html">Setting Up</a><ul class="nav">
<li class="toctree-l2"><a class="reference internal" href="install.html" tppabs="https://www.odoo.com/documentation/8.0/setup/install.html">Installing Odoo</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="install.html#demo" tppabs="https://www.odoo.com/documentation/8.0/setup/install.html#demo">Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#saas" tppabs="https://www.odoo.com/documentation/8.0/setup/install.html#saas">SaaS</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#packaged-installers" tppabs="https://www.odoo.com/documentation/8.0/setup/install.html#packaged-installers">Packaged installers</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="install.html#windows" tppabs="https://www.odoo.com/documentation/8.0/setup/install.html#windows">Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#deb" tppabs="https://www.odoo.com/documentation/8.0/setup/install.html#deb">Deb</a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#rpm" tppabs="https://www.odoo.com/documentation/8.0/setup/install.html#rpm">RPM</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="install.html#source-install" tppabs="https://www.odoo.com/documentation/8.0/setup/install.html#source-install">Source Install</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="install.html#installing-dependencies" tppabs="https://www.odoo.com/documentation/8.0/setup/install.html#installing-dependencies">Installing dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#running-odoo" tppabs="https://www.odoo.com/documentation/8.0/setup/install.html#running-odoo">Running Odoo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="deploy.html" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html">Deploying Odoo</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="deploy.html#dbfilter" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#dbfilter">dbfilter</a></li>
<li class="toctree-l3"><a class="reference internal" href="deploy.html#postgresql" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#postgresql">PostgreSQL</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="deploy.html#configuring-odoo" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#configuring-odoo">Configuring Odoo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deploy.html#https" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#https">HTTPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="deploy.html#builtin-server" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#builtin-server">Builtin server</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="deploy.html#livechat" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#livechat">LiveChat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deploy.html#odoo-as-a-wsgi-application" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#odoo-as-a-wsgi-application">Odoo as a WSGI Application</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="deploy.html#cron-workers" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#cron-workers">Cron Workers</a></li>
<li class="toctree-l4"><a class="reference internal" href="deploy.html#id4" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#id4">LiveChat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deploy.html#serving-static-files" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#serving-static-files">Serving Static Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="deploy.html#security" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#security">Security</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="deploy.html#super-admin-password" tppabs="https://www.odoo.com/documentation/8.0/setup/deploy.html#super-admin-password">&#8220;Super-admin&#8221; password</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html" tppabs="https://www.odoo.com/documentation/8.0/reference.html">Reference</a><ul class="current nav">
<li class="toctree-l2 current"><a class="current reference internal" href="">ORM</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="#recordsets">Recordsets</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="#field-access">Field access</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-operations">Set operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-recordset-operations">Other recordset operations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#environment">Environment</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="#altering-the-environment">Altering the environment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#common-orm-methods">Common ORM methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-models">Creating Models</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="#computed-fields">Computed fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="#onchange-updating-ui-on-the-fly">onchange: updating UI on the fly</a></li>
<li class="toctree-l4"><a class="reference internal" href="#low-level-sql">Low-level SQL</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#old-api-compatibility">Old API compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#model-reference">Model Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-openerp.api">Method decorators</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fields">Fields</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="#basic-fields">Basic fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="#relational-fields">Relational fields</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#inheritance-and-extension">Inheritance and extension</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="#classical-inheritance">Classical inheritance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extension">Extension</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delegation">Delegation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#domains">Domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="#porting-from-the-old-api">Porting from the old API</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="#automatic-bridging-of-old-api-methods">Automatic bridging of old API methods</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data.html" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html">Data Files</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="data.html#structure" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html#core-operations" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html#core-operations">Core operations</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="data.html#record" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html#record"><tt class="docutils literal"><span class="pre">record</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#delete" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html#delete"><tt class="docutils literal"><span class="pre">delete</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#function" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html#function"><tt class="docutils literal"><span class="pre">function</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#workflow" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html#workflow"><tt class="docutils literal"><span class="pre">workflow</span></tt></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data.html#shortcuts" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html#shortcuts">Shortcuts</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="data.html#menuitem" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html#menuitem"><tt class="docutils literal"><span class="pre">menuitem</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#template" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html#template"><tt class="docutils literal"><span class="pre">template</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html#report" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html#report"><tt class="docutils literal"><span class="pre">report</span></tt></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data.html#csv-data-files" tppabs="https://www.odoo.com/documentation/8.0/reference/data.html#csv-data-files">CSV data files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="actions.html" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html">Actions</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="actions.html#window-actions-ir-actions-act-window" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#window-actions-ir-actions-act-window">Window Actions (<tt class="docutils literal"><span class="pre">ir.actions.act_window</span></tt>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="actions.html#url-actions-ir-actions-act-url" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#url-actions-ir-actions-act-url">URL Actions (<tt class="docutils literal"><span class="pre">ir.actions.act_url</span></tt>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="actions.html#server-actions-ir-actions-server" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#server-actions-ir-actions-server">Server Actions (<tt class="docutils literal"><span class="pre">ir.actions.server</span></tt>)</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="actions.html#code" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#code"><tt class="docutils literal"><span class="pre">code</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="actions.html#object-create" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#object-create"><tt class="docutils literal"><span class="pre">object_create</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="actions.html#object-write" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#object-write"><tt class="docutils literal"><span class="pre">object_write</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="actions.html#multi" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#multi"><tt class="docutils literal"><span class="pre">multi</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="actions.html#trigger" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#trigger"><tt class="docutils literal"><span class="pre">trigger</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="actions.html#client-action" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#client-action"><tt class="docutils literal"><span class="pre">client_action</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="actions.html#evaluation-context" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#evaluation-context">Evaluation context</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="actions.html#report-actions" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#report-actions">Report Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="actions.html#client-actions-ir-actions-client" tppabs="https://www.odoo.com/documentation/8.0/reference/actions.html#client-actions-ir-actions-client">Client Actions (<tt class="docutils literal"><span class="pre">ir.actions.client</span></tt>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="views.html" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html">Views</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="views.html#common-structure" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#common-structure">Common Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="views.html#inheritance" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#inheritance">Inheritance</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="views.html#view-matching" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#view-matching">View matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="views.html#view-resolution" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#view-resolution">View resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="views.html#inheritance-specs" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#inheritance-specs">Inheritance specs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="views.html#lists" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#lists">Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="views.html#forms" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#forms">Forms</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="views.html#structural-components" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#structural-components">Structural components</a></li>
<li class="toctree-l4"><a class="reference internal" href="views.html#semantic-components" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#semantic-components">Semantic components</a></li>
<li class="toctree-l4"><a class="reference internal" href="views.html#business-views-guidelines" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#business-views-guidelines">Business Views guidelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="views.html#configuration-forms-guidelines" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#configuration-forms-guidelines">Configuration forms guidelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="views.html#dialog-forms-guidelines" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#dialog-forms-guidelines">Dialog forms guidelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="views.html#configuration-wizards-guidelines" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#configuration-wizards-guidelines">Configuration Wizards guidelines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="views.html#graphs" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#graphs">Graphs</a></li>
<li class="toctree-l3"><a class="reference internal" href="views.html#kanban" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#kanban">Kanban</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="views.html#javascript-api" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#javascript-api">Javascript API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="views.html#calendar" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#calendar">Calendar</a></li>
<li class="toctree-l3"><a class="reference internal" href="views.html#gantt" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#gantt">Gantt</a></li>
<li class="toctree-l3"><a class="reference internal" href="views.html#diagram" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#diagram">Diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="views.html#search" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#search">Search</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="views.html#search-defaults" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#search-defaults">Search defaults</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="views.html#qweb" tppabs="https://www.odoo.com/documentation/8.0/reference/views.html#qweb">QWeb</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="module.html" tppabs="https://www.odoo.com/documentation/8.0/reference/module.html">Modules</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="module.html#manifest" tppabs="https://www.odoo.com/documentation/8.0/reference/module.html#manifest">Manifest</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cmdline.html" tppabs="https://www.odoo.com/documentation/8.0/reference/cmdline.html">Command-line interface: odoo.py</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="cmdline.html#running-the-server" tppabs="https://www.odoo.com/documentation/8.0/reference/cmdline.html#running-the-server">Running the server</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="cmdline.html#database" tppabs="https://www.odoo.com/documentation/8.0/reference/cmdline.html#database">database</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmdline.html#built-in-http" tppabs="https://www.odoo.com/documentation/8.0/reference/cmdline.html#built-in-http">built-in HTTP</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmdline.html#logging" tppabs="https://www.odoo.com/documentation/8.0/reference/cmdline.html#logging">logging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cmdline.html#scaffolding" tppabs="https://www.odoo.com/documentation/8.0/reference/cmdline.html#scaffolding">Scaffolding</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmdline.html#configuration-file" tppabs="https://www.odoo.com/documentation/8.0/reference/cmdline.html#configuration-file">Configuration file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="security.html" tppabs="https://www.odoo.com/documentation/8.0/reference/security.html">Security in Odoo</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="security.html#access-control" tppabs="https://www.odoo.com/documentation/8.0/reference/security.html#access-control">Access Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html#record-rules" tppabs="https://www.odoo.com/documentation/8.0/reference/security.html#record-rules">Record Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html#field-access" tppabs="https://www.odoo.com/documentation/8.0/reference/security.html#field-access">Field Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html#workflow-transition-rules" tppabs="https://www.odoo.com/documentation/8.0/reference/security.html#workflow-transition-rules">Workflow transition rules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="testing.html" tppabs="https://www.odoo.com/documentation/8.0/reference/testing.html">Testing Modules</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="testing.html#running-tests" tppabs="https://www.odoo.com/documentation/8.0/reference/testing.html#running-tests">Running tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="http.html" tppabs="https://www.odoo.com/documentation/8.0/reference/http.html">Web Controllers</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="http.html#routing" tppabs="https://www.odoo.com/documentation/8.0/reference/http.html#routing">Routing</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html#request" tppabs="https://www.odoo.com/documentation/8.0/reference/http.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html#response" tppabs="https://www.odoo.com/documentation/8.0/reference/http.html#response">Response</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html#controllers" tppabs="https://www.odoo.com/documentation/8.0/reference/http.html#controllers">Controllers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="qweb.html" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html">QWeb</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="qweb.html#data-output" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#data-output">data output</a></li>
<li class="toctree-l3"><a class="reference internal" href="qweb.html#conditionals" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#conditionals">conditionals</a></li>
<li class="toctree-l3"><a class="reference internal" href="qweb.html#loops" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#loops">loops</a></li>
<li class="toctree-l3"><a class="reference internal" href="qweb.html#attributes" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#attributes">attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="qweb.html#setting-variables" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#setting-variables">setting variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="qweb.html#calling-sub-templates" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#calling-sub-templates">calling sub-templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="qweb.html#python" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#python">Python</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="qweb.html#exclusive-directives" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#exclusive-directives">Exclusive directives</a></li>
<li class="toctree-l4"><a class="reference internal" href="qweb.html#helpers" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#helpers">Helpers</a></li>
<li class="toctree-l4"><a class="reference internal" href="qweb.html#api" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="qweb.html#javascript" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#javascript">Javascript</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="qweb.html#id3" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#id3">Exclusive directives</a></li>
<li class="toctree-l4"><a class="reference internal" href="qweb.html#debugging" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#debugging">debugging</a></li>
<li class="toctree-l4"><a class="reference internal" href="qweb.html#id4" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#id4">Helpers</a></li>
<li class="toctree-l4"><a class="reference internal" href="qweb.html#id5" tppabs="https://www.odoo.com/documentation/8.0/reference/qweb.html#id5">API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html">Javascript</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="javascript.html#widgets" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#widgets">Widgets</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="javascript.html#dom-root" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#dom-root">DOM Root</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#dom-events-handling" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#dom-events-handling">DOM events handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#subclassing-widget" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#subclassing-widget">Subclassing Widget</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#development-guidelines" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#development-guidelines">Development Guidelines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="javascript.html#rpc" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#rpc">RPC</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="javascript.html#high-level-api-calling-into-odoo-models" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#high-level-api-calling-into-odoo-models">High-level API: calling into Odoo models</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#low-level-api-rpc-calls-to-python-side" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#low-level-api-rpc-calls-to-python-side">Low-level API: RPC calls to Python side</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="javascript.html#web-client" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#web-client">Web Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="javascript.html#testing-in-odoo-web-client" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#testing-in-odoo-web-client">Testing in Odoo Web Client</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="javascript.html#javascript-unit-testing" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#javascript-unit-testing">Javascript Unit Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#writing-a-test-case" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#writing-a-test-case">Writing a test case</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#assertions" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#assertions">Assertions</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#getting-an-odoo-instance" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#getting-an-odoo-instance">Getting an Odoo instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#dom-scratchpad" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#dom-scratchpad">DOM Scratchpad</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#loading-templates" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#loading-templates">Loading templates</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#asynchronous-cases" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#asynchronous-cases">Asynchronous cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#id3" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#id3">RPC</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#testing-api" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#testing-api">Testing API</a></li>
<li class="toctree-l4"><a class="reference internal" href="javascript.html#running-through-python" tppabs="https://www.odoo.com/documentation/8.0/reference/javascript.html#running-through-python">Running through Python</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="translations.html" tppabs="https://www.odoo.com/documentation/8.0/reference/translations.html">Translating Modules</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="translations.html#exporting-translatable-term" tppabs="https://www.odoo.com/documentation/8.0/reference/translations.html#exporting-translatable-term">Exporting translatable term</a></li>
<li class="toctree-l3"><a class="reference internal" href="translations.html#implicit-exports" tppabs="https://www.odoo.com/documentation/8.0/reference/translations.html#implicit-exports">Implicit exports</a></li>
<li class="toctree-l3"><a class="reference internal" href="translations.html#explicit-exports" tppabs="https://www.odoo.com/documentation/8.0/reference/translations.html#explicit-exports">Explicit exports</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reports.html" tppabs="https://www.odoo.com/documentation/8.0/reference/reports.html">QWeb Reports</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="reports.html#paper-formats" tppabs="https://www.odoo.com/documentation/8.0/reference/reports.html#paper-formats">Paper Formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="reports.html#expressions-used-in-odoo-report-templates" tppabs="https://www.odoo.com/documentation/8.0/reference/reports.html#expressions-used-in-odoo-report-templates">Expressions used in Odoo report templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="reports.html#custom-report" tppabs="https://www.odoo.com/documentation/8.0/reference/reports.html#custom-report">Custom report</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflows.html" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html">Workflows</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="workflows.html#basics" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#basics">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows.html#activities" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#activities">Activities</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="workflows.html#flow-start-and-flow-stop" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#flow-start-and-flow-stop">Flow start and flow stop</a></li>
<li class="toctree-l4"><a class="reference internal" href="workflows.html#subflow" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#subflow">Subflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="workflows.html#sending-a-signal-from-a-subflow" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#sending-a-signal-from-a-subflow">Sending a signal from a subflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="workflows.html#server-actions" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#server-actions">Server actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="workflows.html#python-action" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#python-action">Python action</a></li>
<li class="toctree-l4"><a class="reference internal" href="workflows.html#split-mode" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#split-mode">Split mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="workflows.html#join-mode" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#join-mode">Join mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="workflows.html#kinds" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#kinds">Kinds</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflows.html#transitions" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#transitions">Transitions</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="workflows.html#conditions" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#conditions">Conditions</a></li>
<li class="toctree-l4"><a class="reference internal" href="workflows.html#signals" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#signals">Signals</a></li>
<li class="toctree-l4"><a class="reference internal" href="workflows.html#triggers" tppabs="https://www.odoo.com/documentation/8.0/reference/workflows.html#triggers">Triggers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_integration.html" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html">Web Service</a><ul class="nav">
<li class="toctree-l2"><a class="reference internal" href="api_integration.html#connection" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#connection">Connection</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#configuration" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#logging-in" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#logging-in">Logging in</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api_integration.html#calling-methods" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#calling-methods">Calling methods</a><ul class="nav">
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#list-records" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#list-records">List records</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="api_integration.html#pagination" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#pagination">Pagination</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#count-records" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#count-records">Count records</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#read-records" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#read-records">Read records</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#listing-record-fields" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#listing-record-fields">Listing record fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#search-and-read" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#search-and-read">Search and read</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#create-records" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#create-records">Create records</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#update-records" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#update-records">Update records</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#delete-records" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#delete-records">Delete records</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#inspection-and-introspection" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#inspection-and-introspection">Inspection and introspection</a><ul class="nav">
<li class="toctree-l4"><a class="reference internal" href="api_integration.html#ir-model" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#ir-model"><tt class="docutils literal"><span class="pre">ir.model</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="api_integration.html#ir-model-fields" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#ir-model-fields"><tt class="docutils literal"><span class="pre">ir.model.fields</span></tt></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#workflow-manipulations" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#workflow-manipulations">Workflow manipulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_integration.html#report-printing" tppabs="https://www.odoo.com/documentation/8.0/api_integration.html#report-printing">Report printing</a></li>
</ul>
</li>
</ul>
</li>
</ul>

      
        <p><a href="javascript:if(confirm('https://github.com/odoo/odoo/edit/8.0/doc/reference/orm.rst  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/edit/8.0/doc/reference/orm.rst'" tppabs="https://github.com/odoo/odoo/edit/8.0/doc/reference/orm.rst" class="github">
          Edit on GitHub
        </a></p>
      
    </div>
  </div>
  
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="orm">
<span id="reference-orm"></span><h1>ORM</h1>
<div class="section" id="recordsets">
<h2>Recordsets</h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 8.0.</span></p>
</div>
<p>Interaction with models and records is performed through recordsets, a sorted
set of records of the same model.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">contrary to what the name implies, it is currently possible for
recordsets to contain duplicates. This may change in the future.</p>
</div>
<p>Methods defined on a model are executed on a recordset, and their <tt class="docutils literal"><span class="pre">self</span></tt> is
a recordset:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">AModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s">&#39;a.model&#39;</span>
    <span class="k">def</span> <span class="nf">a_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># self can be anywhere between 0 records and all records in the</span>
        <span class="c"># database</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_operation</span><span class="p">()</span>
</pre></div>
</div>
<p>Iterating on a recordset will yield new sets of <em>a single record</em>
(&#8220;singletons&#8221;), much like iterating on a Python string yields strings of a
single characters:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">do_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">print</span> <span class="bp">self</span> <span class="c"># =&gt; a.model(1, 2, 3, 4, 5)</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">record</span> <span class="c"># =&gt; a.model(1), then a.model(2), then a.model(3), ...</span>
</pre></div>
</div>
<div class="section" id="field-access">
<h3>Field access</h3>
<p>Recordsets provide an &#8220;Active Record&#8221; interface: model fields can be read and
written directly from the record, but only on singletons (single-record
recordsets). Setting a field&#8217;s value triggers an update to the database:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">record</span><span class="o">.</span><span class="n">name</span>
<span class="go">Example Name</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">record</span><span class="o">.</span><span class="n">company_id</span><span class="o">.</span><span class="n">name</span>
<span class="go">Company Name</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">record</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Bob&quot;</span>
</pre></div>
</div>
<p>Trying to read or write a field on multiple records will raise an error.</p>
<p>Accessing a relational field (<a class="reference internal" href="#openerp.fields.Many2one" title="openerp.fields.Many2one"><tt class="xref py py-class docutils literal"><span class="pre">Many2one</span></tt></a>,
<a class="reference internal" href="#openerp.fields.One2many" title="openerp.fields.One2many"><tt class="xref py py-class docutils literal"><span class="pre">One2many</span></tt></a>, <a class="reference internal" href="#openerp.fields.Many2many" title="openerp.fields.Many2many"><tt class="xref py py-class docutils literal"><span class="pre">Many2many</span></tt></a>)
<em>always</em> returns a recordset, empty if the field is not set.</p>
<div class="admonition danger">
<p class="first admonition-title">Danger</p>
<p>each assignment to a field triggers a database update, when setting
multiple fields at the same time or setting fields on multiple records
(to the same value), use <a class="reference internal" href="#openerp.models.Model.write" title="openerp.models.Model.write"><tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt></a>:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="c"># 3 * len(records) database updates</span>
<span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
    <span class="n">record</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">record</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">record</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c"># len(records) database updates</span>
<span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
    <span class="n">record</span><span class="o">.</span><span class="n">write</span><span class="p">({</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>

<span class="c"># 1 database update</span>
<span class="n">records</span><span class="o">.</span><span class="n">write</span><span class="p">({</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="set-operations">
<h3>Set operations</h3>
<p>Recordsets are immutable, but sets of the same model can be combined using
various set operations, returning new recordsets. Set operations do <em>not</em>
preserve order.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">record</span> <span class="pre">in</span> <span class="pre">set</span></tt> returns whether <tt class="docutils literal"><span class="pre">record</span></tt> (which must be a 1-element
recordset) is present in <tt class="docutils literal"><span class="pre">set</span></tt>. <tt class="docutils literal"><span class="pre">record</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">set</span></tt> is the inverse
operation</li>
<li><tt class="docutils literal"><span class="pre">set1</span> <span class="pre">|</span> <span class="pre">set2</span></tt> returns the union of the two recordsets, a new recordset
containing all records present in either source</li>
<li><tt class="docutils literal"><span class="pre">set1</span> <span class="pre">&amp;</span> <span class="pre">set2</span></tt> returns the intersection of two recordsets, a new recordset
containing only records present in both sources</li>
<li><tt class="docutils literal"><span class="pre">set1</span> <span class="pre">-</span> <span class="pre">set2</span></tt> returns a new recordset containing only records of <tt class="docutils literal"><span class="pre">set1</span></tt>
which are <em>not</em> in <tt class="docutils literal"><span class="pre">set2</span></tt></li>
</ul>
</div>
<div class="section" id="other-recordset-operations">
<h3>Other recordset operations</h3>
<p>Recordsets are iterable so the usual Python tools are available for
transformation (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#map'" tppabs="https://docs.python.org/2/library/functions.html#map" title="(in Python v2.7)"><tt class="docutils literal"><span class="pre">map()</span></tt></a>, <a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#sorted'" tppabs="https://docs.python.org/2/library/functions.html#sorted" title="(in Python v2.7)"><tt class="docutils literal"><span class="pre">sorted()</span></tt></a>,
<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/itertools.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/itertools.html#itertools.ifilter'" tppabs="https://docs.python.org/2/library/itertools.html#itertools.ifilter" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">ifilter()</span></tt></a>, ...) however these return either a
<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#list'" tppabs="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><tt class="docutils literal"><span class="pre">list</span></tt></a> or an <a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/glossary.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/glossary.html#term-iterator'" tppabs="https://docs.python.org/2/glossary.html#term-iterator" title="(in Python v2.7)"><em>iterator</em></a>, removing the ability to
call methods on their result, or to use set operations.</p>
<p>Recordsets therefore provide these operations returning recordsets themselves
(when possible):</p>
<dl class="docutils">
<dt><a class="reference internal" href="#openerp.models.Model.filtered" title="openerp.models.Model.filtered"><tt class="xref py py-meth docutils literal"><span class="pre">filtered()</span></tt></a></dt>
<dd><p class="first">returns a recordset containing only records satisfying the provided
predicate function. The predicate can also be a string to filter by a
field being true or false:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="c"># only keep records whose company is the current user&#39;s</span>
<span class="n">records</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">company_id</span> <span class="o">==</span> <span class="n">user</span><span class="o">.</span><span class="n">company_id</span><span class="p">)</span>

<span class="c"># only keep records whose partner is a company</span>
<span class="n">records</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span><span class="s">&quot;partner_id.is_company&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt><a class="reference internal" href="#openerp.models.Model.sorted" title="openerp.models.Model.sorted"><tt class="xref py py-meth docutils literal"><span class="pre">sorted()</span></tt></a></dt>
<dd><p class="first">returns a recordset sorted by the provided key function. If no key
is provided, use the model&#8217;s default sort order:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="c"># sort records by name</span>
<span class="n">records</span><span class="o">.</span><span class="n">sorted</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt><a class="reference internal" href="#openerp.models.Model.mapped" title="openerp.models.Model.mapped"><tt class="xref py py-meth docutils literal"><span class="pre">mapped()</span></tt></a></dt>
<dd><p class="first">applies the provided function to each record in the recordset, returns
a recordset if the results are recordsets:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># returns a list of summing two fields for each record in the set</span>
<span class="n">records</span><span class="o">.</span><span class="n">mapped</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">field1</span> <span class="o">+</span> <span class="n">r</span><span class="o">.</span><span class="n">field2</span><span class="p">)</span>
</pre></div>
</div>
<p>The provided function can be a string to get field values:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="c"># returns a list of names</span>
<span class="n">records</span><span class="o">.</span><span class="n">mapped</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">)</span>

<span class="c"># returns a recordset of partners</span>
<span class="n">record</span><span class="o">.</span><span class="n">mapped</span><span class="p">(</span><span class="s">&#39;partner_id&#39;</span><span class="p">)</span>

<span class="c"># returns the union of all partner banks, with duplicates removed</span>
<span class="n">record</span><span class="o">.</span><span class="n">mapped</span><span class="p">(</span><span class="s">&#39;partner_id.bank_ids&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</div>
</div>
<div class="section" id="environment">
<h2>Environment</h2>
<p>The <tt class="xref py py-class docutils literal"><span class="pre">Environment</span></tt> stores various contextual data used by
the ORM: the database cursor (for database queries), the current user
(for access rights checking) and the current context (storing arbitrary
metadata). The environment also stores caches.</p>
<p>All recordsets have an environment, which is immutable, can be accessed
using <tt class="xref py py-attr docutils literal"><span class="pre">env</span></tt> and gives access to the current user
(<tt class="xref py py-attr docutils literal"><span class="pre">user</span></tt>), the cursor
(<tt class="xref py py-attr docutils literal"><span class="pre">cr</span></tt>) or the context
(<tt class="xref py py-attr docutils literal"><span class="pre">context</span></tt>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">records</span><span class="o">.</span><span class="n">env</span>
<span class="go">&lt;Environment object ...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">records</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">user</span>
<span class="go">res.user(3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">records</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">cr</span>
<span class="go">&lt;Cursor object ...)</span>
</pre></div>
</div>
<p>When creating a recordset from an other recordset, the environment is
inherited. The environment can be used to get an empty recordset in an
other model, and query that model:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="p">[</span><span class="s">&#39;res.partner&#39;</span><span class="p">]</span>
<span class="go">res.partner</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="p">[</span><span class="s">&#39;res.partner&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">search</span><span class="p">([[</span><span class="s">&#39;is_company&#39;</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;customer&#39;</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">]])</span>
<span class="go">res.partner(7, 18, 12, 14, 17, 19, 8, 31, 26, 16, 13, 20, 30, 22, 29, 15, 23, 28, 74)</span>
</pre></div>
</div>
<div class="section" id="altering-the-environment">
<h3>Altering the environment</h3>
<p>The environment can be customized from a recordset. This returns a new
version of the recordset using the altered environment.</p>
<dl class="docutils">
<dt><a class="reference internal" href="#openerp.models.Model.sudo" title="openerp.models.Model.sudo"><tt class="xref py py-meth docutils literal"><span class="pre">sudo()</span></tt></a></dt>
<dd><p class="first">creates a new environment with the provided user set, uses the
administrator if none is provided (to bypass access rights/rules in safe
contexts), returns a copy of the recordset it is called on using the
new environment:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="c"># create partner object as administrator</span>
<span class="n">env</span><span class="p">[</span><span class="s">&#39;res.partner&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sudo</span><span class="p">()</span><span class="o">.</span><span class="n">create</span><span class="p">({</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&quot;A Partner&quot;</span><span class="p">})</span>

<span class="c"># list partners visible by the &quot;public&quot; user</span>
<span class="n">public</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">ref</span><span class="p">(</span><span class="s">&#39;base.public_user&#39;</span><span class="p">)</span>
<span class="n">env</span><span class="p">[</span><span class="s">&#39;res.partner&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sudo</span><span class="p">(</span><span class="n">public</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">([])</span>
</pre></div>
</div>
</dd>
<dt><a class="reference internal" href="#openerp.models.Model.with_context" title="openerp.models.Model.with_context"><tt class="xref py py-meth docutils literal"><span class="pre">with_context()</span></tt></a></dt>
<dd><ol class="first arabic simple">
<li>can take a single positional parameter, which replaces the current
environment&#8217;s context</li>
<li>can take any number of parameters by keyword, which are added to either
the current environment&#8217;s context or the context set during step 1</li>
</ol>
<div class="last highlight-python"><div class="highlight"><pre><span class="c"># look for partner, or create one with specified timezone if none is</span>
<span class="c"># found</span>
<span class="n">env</span><span class="p">[</span><span class="s">&#39;res.partner&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">with_context</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">a_tz</span><span class="p">)</span><span class="o">.</span><span class="n">find_or_create</span><span class="p">(</span><span class="n">email_address</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt><a class="reference internal" href="#openerp.models.Model.with_env" title="openerp.models.Model.with_env"><tt class="xref py py-meth docutils literal"><span class="pre">with_env()</span></tt></a></dt>
<dd>replaces the existing environment entirely</dd>
</dl>
</div>
</div>
<div class="section" id="common-orm-methods">
<h2>Common ORM methods</h2>
<dl class="docutils">
<dt><a class="reference internal" href="#openerp.models.Model.search" title="openerp.models.Model.search"><tt class="xref py py-meth docutils literal"><span class="pre">search()</span></tt></a></dt>
<dd><p class="first">Takes a <a class="reference internal" href="#reference-orm-domains"><em>search domain</em></a>, returns a recordset
of matching records. Can return a subset of matching records (<tt class="docutils literal"><span class="pre">offset</span></tt>
and <tt class="docutils literal"><span class="pre">limit</span></tt> parameters) and be ordered (<tt class="docutils literal"><span class="pre">order</span></tt> parameter):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># searches the current model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">search</span><span class="p">([(</span><span class="s">&#39;is_company&#39;</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;customer&#39;</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)])</span>
<span class="go">res.partner(7, 18, 12, 14, 17, 19, 8, 31, 26, 16, 13, 20, 30, 22, 29, 15, 23, 28, 74)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">search</span><span class="p">([(</span><span class="s">&#39;is_company&#39;</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)],</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;Agrolait&#39;</span>
</pre></div>
</div>
<div class="last admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">to just check if any record matches a domain, or count the number
of records which do, use
<a class="reference internal" href="#openerp.models.Model.search_count" title="openerp.models.Model.search_count"><tt class="xref py py-meth docutils literal"><span class="pre">search_count()</span></tt></a></p>
</div>
</dd>
<dt><a class="reference internal" href="#openerp.models.Model.create" title="openerp.models.Model.create"><tt class="xref py py-meth docutils literal"><span class="pre">create()</span></tt></a></dt>
<dd><p class="first">Takes a number of field values, and returns a recordset containing the
record created:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="p">({</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&quot;New Name&quot;</span><span class="p">})</span>
<span class="go">res.partner(78)</span>
</pre></div>
</div>
</dd>
<dt><a class="reference internal" href="#openerp.models.Model.write" title="openerp.models.Model.write"><tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt></a></dt>
<dd><p class="first">Takes a number of field values, writes them to all the records in its
recordset. Does not return anything:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">({</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&quot;Newer Name&quot;</span><span class="p">})</span>
</pre></div>
</div>
</dd>
<dt><a class="reference internal" href="#openerp.models.Model.browse" title="openerp.models.Model.browse"><tt class="xref py py-meth docutils literal"><span class="pre">browse()</span></tt></a></dt>
<dd><p class="first">Takes a database id or a list of ids and returns a recordset, useful when
record ids are obtained from outside Odoo (e.g. round-trip through
external system) or <a class="reference internal" href="#reference-orm-oldapi"><em>when calling methods in the old API</em></a>:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">browse</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">12</span><span class="p">])</span>
<span class="go">res.partner(7, 18, 12])</span>
</pre></div>
</div>
</dd>
<dt><a class="reference internal" href="#openerp.models.Model.exists" title="openerp.models.Model.exists"><tt class="xref py py-meth docutils literal"><span class="pre">exists()</span></tt></a></dt>
<dd><p class="first">Returns a new recordset containing only the records which exist in the
database. Can be used to check whether a record (e.g. obtained externally)
still exists:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="ow">not</span> <span class="n">record</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s">&quot;The record has been deleted&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>or after calling a method which could have removed some records:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="n">records</span><span class="o">.</span><span class="n">may_remove_some</span><span class="p">()</span>
<span class="c"># only keep records which were not deleted</span>
<span class="n">records</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
</pre></div>
</div>
</dd>
<dt><tt class="xref py py-meth docutils literal"><span class="pre">ref()</span></tt></dt>
<dd><p class="first">Environment method returning the record matching a provided
<a class="reference internal" href="glossary.html#term-external-id" tppabs="https://www.odoo.com/documentation/8.0/glossary.html#term-external-id"><em class="xref std std-term">external id</em></a>:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">env</span><span class="o">.</span><span class="n">ref</span><span class="p">(</span><span class="s">&#39;base.group_public&#39;</span><span class="p">)</span>
<span class="go">res.groups(2)</span>
</pre></div>
</div>
</dd>
<dt><a class="reference internal" href="#openerp.models.Model.ensure_one" title="openerp.models.Model.ensure_one"><tt class="xref py py-meth docutils literal"><span class="pre">ensure_one()</span></tt></a></dt>
<dd><p class="first">checks that the recordset is a singleton (only contains a single record),
raises an error otherwise:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="n">records</span><span class="o">.</span><span class="n">ensure_one</span><span class="p">()</span>
<span class="c"># is equivalent to but clearer than:</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">records</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;Expected singleton&quot;</span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="creating-models">
<h2>Creating Models</h2>
<p>Model fields are defined as attributes on the model itself:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">openerp</span> <span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">fields</span>
<span class="k">class</span> <span class="nc">AModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s">&#39;a.model.name&#39;</span>

    <span class="n">field1</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">this means you can not define a field and a method with the same
name, they will conflict</p>
</div>
<p>By default, the field&#8217;s label (user-visible name) is a capitalized version of
the field name, this can be overridden with the <tt class="docutils literal"><span class="pre">string</span></tt> parameter:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">field2</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s">&quot;an other field&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For the various field types and parameters, see <a class="reference internal" href="#reference-orm-fields"><em>the fields reference</em></a>.</p>
<p>Default values are defined as parameters on fields, either a value:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a_field</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s">&quot;a value&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>or a function called to compute the default value, which should return that
value:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a_field</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">compute_default_value</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">compute_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="computed-fields">
<h3>Computed fields</h3>
<p>Fields can be computed (instead of read straight from the database) using the
<tt class="docutils literal"><span class="pre">compute</span></tt> parameter. <strong>It must assign the computed value to the field</strong>. If
it uses the values of other <em>fields</em>, it should specify those fields using
<a class="reference internal" href="#openerp.api.depends" title="openerp.api.depends"><tt class="xref py py-func docutils literal"><span class="pre">depends()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">openerp</span> <span class="kn">import</span> <span class="n">api</span>
<span class="n">total</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">compute</span><span class="o">=</span><span class="s">&#39;_compute_total&#39;</span><span class="p">)</span>

<span class="nd">@api.depends</span><span class="p">(</span><span class="s">&#39;value&#39;</span><span class="p">,</span> <span class="s">&#39;tax&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_compute_total</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="n">record</span><span class="o">.</span><span class="n">total</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">value</span> <span class="o">+</span> <span class="n">record</span><span class="o">.</span><span class="n">value</span> <span class="o">*</span> <span class="n">record</span><span class="o">.</span><span class="n">tax</span>
</pre></div>
</div>
<ul>
<li><p class="first">dependencies can be dotted paths when using sub-fields:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@api.depends</span><span class="p">(</span><span class="s">&#39;line_ids.value&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_compute_total</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="n">record</span><span class="o">.</span><span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">record</span><span class="o">.</span><span class="n">line_ids</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">computed fields are not stored by default, they are computed and
returned when requested. Setting <tt class="docutils literal"><span class="pre">store=True</span></tt> will store them in the
database and automatically enable searching</p>
</li>
<li><p class="first">searching on a computed field can also be enabled by setting the <tt class="docutils literal"><span class="pre">search</span></tt>
parameter. The value is a method name returning a
<a class="reference internal" href="#reference-orm-domains"><em>Domains</em></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">upper_name</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">compute</span><span class="o">=</span><span class="s">&#39;_compute_upper&#39;</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s">&#39;_search_upper&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_search_upper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operator</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">operator</span> <span class="o">==</span> <span class="s">&#39;like&#39;</span><span class="p">:</span>
        <span class="n">operator</span> <span class="o">=</span> <span class="s">&#39;ilike&#39;</span>
    <span class="k">return</span> <span class="p">[(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="n">operator</span><span class="p">,</span> <span class="n">value</span><span class="p">)]</span>
</pre></div>
</div>
</li>
<li><p class="first">to allow <em>setting</em> values on a computed field, use the <tt class="docutils literal"><span class="pre">inverse</span></tt>
parameter. It is the name of a function reversing the computation and
setting the relevant fields:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">document</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">compute</span><span class="o">=</span><span class="s">&#39;_get_document&#39;</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="s">&#39;_set_document&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_get_document</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">get_document_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">record</span><span class="o">.</span><span class="n">document</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">_set_document</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">record</span><span class="o">.</span><span class="n">document</span><span class="p">:</span> <span class="k">continue</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">get_document_path</span><span class="p">())</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">document</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">multiple fields can be computed at the same time by the same method, just
use the same method on all fields and set all of them:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">discount_value</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">compute</span><span class="o">=</span><span class="s">&#39;_apply_discount&#39;</span><span class="p">)</span>
<span class="n">total</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">compute</span><span class="o">=</span><span class="s">&#39;_apply_discount&#39;</span><span class="p">)</span>

<span class="nd">@depends</span><span class="p">(</span><span class="s">&#39;value&#39;</span><span class="p">,</span> <span class="s">&#39;discount&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_apply_discount</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="c"># compute actual discount from discount percentage</span>
        <span class="n">discount</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">discount</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">discount_value</span> <span class="o">=</span> <span class="n">discount</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="n">discount</span>
</pre></div>
</div>
</li>
</ul>
<div class="section" id="related-fields">
<h4>Related fields</h4>
<p>A special case of computed fields are <em>related</em> (proxy) fields, which provide
the value of a sub-field on the current record. They are defined by setting
the <tt class="docutils literal"><span class="pre">related</span></tt> parameter and like regular computed fields they can be
stored:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">nickname</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">related</span><span class="o">=</span><span class="s">&#39;user_id.partner_id.name&#39;</span><span class="p">,</span> <span class="n">store</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="onchange-updating-ui-on-the-fly">
<h3>onchange: updating UI on the fly</h3>
<p>When a user changes a field&#8217;s value in a form (but hasn&#8217;t saved the form yet),
it can be useful to automatically update other fields based on that value
e.g. updating a final total when the tax is changed or a new invoice line is
added.</p>
<ul>
<li><p class="first">computed fields are automatically checked and recomputed, they do not need
an <tt class="docutils literal"><span class="pre">onchange</span></tt></p>
</li>
<li><p class="first">for non-computed fields, the <a class="reference internal" href="#openerp.api.onchange" title="openerp.api.onchange"><tt class="xref py py-func docutils literal"><span class="pre">onchange()</span></tt></a> decorator is used
to provide new field values:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@api.onchange</span><span class="p">(</span><span class="s">&#39;field1&#39;</span><span class="p">,</span> <span class="s">&#39;field2&#39;</span><span class="p">)</span> <span class="c"># if these fields are changed, call method</span>
<span class="k">def</span> <span class="nf">check_change</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">field1</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">field2</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">field3</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
<p>the changes performed during the method are then sent to the client program
and become visible to the user</p>
</li>
<li><p class="first">Both computed fields and new-API onchanges are automatically called by the
client without having to add them in views</p>
</li>
<li><p class="first">It is possible to suppress the trigger from a specific field by adding
<tt class="docutils literal"><span class="pre">on_change=&quot;0&quot;</span></tt> in a view:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;field name=&quot;name&quot; on_change=&quot;0&quot;/&gt;
</pre></div>
</div>
<p>will not trigger any interface update when the field is edited by the user,
even if there are function fields or explicit onchange depending on that
field.</p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">onchange</span></tt> methods work on virtual records assignment on these records
is not written to the database, just used to know which value to send back
to the client</p>
</div>
</div>
<div class="section" id="low-level-sql">
<h3>Low-level SQL</h3>
<p>The <tt class="xref py py-attr docutils literal"><span class="pre">cr</span></tt> attribute on environments is the
cursor for the current database transaction and allows executing SQL directly,
either for queries which are difficult to express using the ORM (e.g. complex
joins) or for performance reasons:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">cr</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s">&quot;some_sql&quot;</span><span class="p">,</span> <span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">,</span> <span class="n">param3</span><span class="p">)</span>
</pre></div>
</div>
<p>Because models use the same cursor and the <tt class="xref py py-class docutils literal"><span class="pre">Environment</span></tt>
holds various caches, these caches must be invalidated when <em>altering</em> the
database in raw SQL, or further uses of models may become incoherent. It is
necessary to clear caches when using <tt class="docutils literal"><span class="pre">CREATE</span></tt>, <tt class="docutils literal"><span class="pre">UPDATE</span></tt> or <tt class="docutils literal"><span class="pre">DELETE</span></tt> in
SQL, but not <tt class="docutils literal"><span class="pre">SELECT</span></tt> (which simply reads the database).</p>
<p>Clearing caches can be performed using the
<tt class="xref py py-meth docutils literal"><span class="pre">invalidate_all()</span></tt> method of the
<tt class="xref py py-class docutils literal"><span class="pre">Environment</span></tt> object.</p>
</div>
</div>
<div class="section" id="old-api-compatibility">
<span id="reference-orm-oldapi"></span><h2>Old API compatibility</h2>
<p>Odoo is currently transitioning from an older (less regular) API, it can be
necessary to manually bridge from one to the other manually:</p>
<ul class="simple">
<li>RPC layers (both XML-RPC and JSON-RPC) are expressed in terms of the old
API, methods expressed purely in the new API are not available over RPC</li>
<li>overridable methods may be called from older pieces of code still written
in the old API style</li>
</ul>
<p>The big differences between the old and new APIs are:</p>
<ul class="simple">
<li>values of the <tt class="xref py py-class docutils literal"><span class="pre">Environment</span></tt> (cursor, user id and
context) are passed explicitly to methods instead</li>
<li>record data (<a class="reference internal" href="#openerp.models.Model.ids" title="openerp.models.Model.ids"><tt class="xref py py-attr docutils literal"><span class="pre">ids</span></tt></a>) are passed explicitly to
methods, and possibly not passed at all</li>
<li>methods tend to work on lists of ids instead of recordsets</li>
</ul>
<p>By default, methods are assumed to use the new API style and are not callable
from the old API style.</p>
<div class="aphorism admonition tip">
<p class="first admonition-title">Tip</p>
<p>calls from the new API to the old API are bridged</p>
<p>when using the new API style, calls to methods defined using the old API
are automatically converted on-the-fly, there should be no need to do
anything special:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># method in the old API style</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">old_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">print</span> <span class="n">ids</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># method in the new API style</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">new_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>    <span class="c"># system automatically infers how to call the old-style</span>
<span class="gp">... </span>    <span class="c"># method from the new-style method</span>
<span class="gp">... </span>    <span class="bp">self</span><span class="o">.</span><span class="n">old_method</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">env</span><span class="p">[</span><span class="n">model</span><span class="p">]</span><span class="o">.</span><span class="n">browse</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">new_method</span><span class="p">()</span>
<span class="go">[1, 2, 3, 4]</span>
</pre></div>
</div>
</div>
<p>Two decorators can expose a new-style method to the old API:</p>
<dl class="docutils">
<dt><a class="reference internal" href="#openerp.api.model" title="openerp.api.model"><tt class="xref py py-func docutils literal"><span class="pre">model()</span></tt></a></dt>
<dd><p class="first">the method is exposed as not using ids, its recordset will generally be
empty. Its &#8220;old API&#8221; signature is <tt class="docutils literal"><span class="pre">cr,</span> <span class="pre">uid,</span> <span class="pre">*arguments,</span> <span class="pre">context</span></tt>:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="nd">@api.model</span>
<span class="k">def</span> <span class="nf">some_method</span><span class="p">(</span><span class="n">foo</span><span class="p">):</span>
    <span class="k">pass</span>
<span class="c"># can be called as</span>
<span class="n">old_style_model</span><span class="o">.</span><span class="n">some_method</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">a_value</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt><a class="reference internal" href="#openerp.api.multi" title="openerp.api.multi"><tt class="xref py py-func docutils literal"><span class="pre">multi()</span></tt></a></dt>
<dd><p class="first">the method is exposed as taking a list of ids (possibly empty), its
&#8220;old API&#8221; signature is <tt class="docutils literal"><span class="pre">cr,</span> <span class="pre">uid,</span> <span class="pre">ids,</span> <span class="pre">*arguments,</span> <span class="pre">context</span></tt>:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="nd">@api.multi</span>
<span class="k">def</span> <span class="nf">some_method</span><span class="p">(</span><span class="n">foo</span><span class="p">):</span>
    <span class="k">pass</span>
<span class="c"># can be called as</span>
<span class="n">old_style_model</span><span class="o">.</span><span class="n">some_method</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="p">[</span><span class="n">id1</span><span class="p">,</span> <span class="n">id2</span><span class="p">],</span> <span class="n">a_value</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p>Because new-style APIs tend to return recordsets and old-style APIs tend to
return lists of ids, there is also a decorator managing this:</p>
<dl class="docutils">
<dt><a class="reference internal" href="#openerp.api.returns" title="openerp.api.returns"><tt class="xref py py-func docutils literal"><span class="pre">returns()</span></tt></a></dt>
<dd><p class="first">the function is assumed to return a recordset, the first parameter should
be the name of the recordset&#8217;s model or <tt class="docutils literal"><span class="pre">self</span></tt> (for the current model).</p>
<p>No effect if the method is called in new API style, but transforms the
recordset into a list of ids when called from the old API style:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nd">@api.multi</span>
<span class="gp">... </span><span class="nd">@api.returns</span><span class="p">(</span><span class="s">&#39;self&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">some_method</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="bp">self</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_style_model</span> <span class="o">=</span> <span class="n">env</span><span class="p">[</span><span class="s">&#39;a.model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">browse</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_style_model</span><span class="o">.</span><span class="n">some_method</span><span class="p">()</span>
<span class="go">a.model(1, 2, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">old_style_model</span> <span class="o">=</span> <span class="n">pool</span><span class="p">[</span><span class="s">&#39;a.model&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">old_style_model</span><span class="o">.</span><span class="n">some_method</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="model-reference">
<span id="reference-orm-model"></span><h2>Model Reference</h2>
<dl class="class">
<dt id="openerp.models.Model">
<em class="property">class </em><tt class="descclassname">openerp.models.</tt><tt class="descname">Model</tt><big>(</big><em>pool</em>, <em>cr</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5875'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5875"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Main super-class for regular database-persisted OpenERP models.</p>
<p>OpenERP models are created by inheriting from this class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">user</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The system will later instantiate the class once per database (on
which the class&#8217; module is installed).</p>
<p class="rubric">Structural attributes</p>
<dl class="attribute">
<dt id="openerp.models.Model._name">
<tt class="descname">_name</tt></dt>
<dd><p>business object name, in dot-notation (in module namespace)</p>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model._rec_name">
<tt class="descname">_rec_name</tt></dt>
<dd><p>Alternative field to use as name, used by osvs name_get()
(default: <tt class="docutils literal"><span class="pre">'name'</span></tt>)</p>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model._inherit">
<tt class="descname">_inherit</tt></dt>
<dd><ul class="simple">
<li>If <a class="reference internal" href="#openerp.models.Model._name" title="openerp.models.Model._name"><tt class="xref py py-attr docutils literal"><span class="pre">_name</span></tt></a> is set, names of parent models to inherit from.
Can be a <tt class="docutils literal"><span class="pre">str</span></tt> if inheriting from a single parent</li>
<li>If <a class="reference internal" href="#openerp.models.Model._name" title="openerp.models.Model._name"><tt class="xref py py-attr docutils literal"><span class="pre">_name</span></tt></a> is unset, name of a single model to extend
in-place</li>
</ul>
<p>See <a class="reference internal" href="#reference-orm-inheritance"><em>Inheritance and extension</em></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model._order">
<tt class="descname">_order</tt></dt>
<dd><p>Ordering field when searching without an ordering specified (default:
<tt class="docutils literal"><span class="pre">'id'</span></tt>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model._auto">
<tt class="descname">_auto</tt></dt>
<dd><p>Whether a database table should be created (default: <tt class="docutils literal"><span class="pre">True</span></tt>)</p>
<p>If set to <tt class="docutils literal"><span class="pre">False</span></tt>, override <tt class="xref py py-meth docutils literal"><span class="pre">init()</span></tt> to create the database
table</p>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model._table">
<tt class="descname">_table</tt></dt>
<dd><p>Name of the table backing the model created when
<a class="reference internal" href="#openerp.models.Model._auto" title="openerp.models.Model._auto"><tt class="xref py py-attr docutils literal"><span class="pre">_auto</span></tt></a>, automatically generated by
default.</p>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model._inherits">
<tt class="descname">_inherits</tt></dt>
<dd><p>dictionary mapping the _name of the parent business objects to the
names of the corresponding foreign key fields to use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">_inherits</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;a.model&#39;</span><span class="p">:</span> <span class="s">&#39;a_field_id&#39;</span><span class="p">,</span>
    <span class="s">&#39;b.model&#39;</span><span class="p">:</span> <span class="s">&#39;b_field_id&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>implements composition-based inheritance: the new model exposes all
the fields of the <a class="reference internal" href="#openerp.models.Model._inherits" title="openerp.models.Model._inherits"><tt class="xref py py-attr docutils literal"><span class="pre">_inherits</span></tt></a>-ed model but
stores none of them: the values themselves remain stored on the linked
record.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">if the same field is defined on multiple
<a class="reference internal" href="#openerp.models.Model._inherits" title="openerp.models.Model._inherits"><tt class="xref py py-attr docutils literal"><span class="pre">_inherits</span></tt></a>-ed</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model._constraints">
<tt class="descname">_constraints</tt></dt>
<dd><p>list of <tt class="docutils literal"><span class="pre">(constraint_function,</span> <span class="pre">message,</span> <span class="pre">fields)</span></tt> defining Python
constraints. The fields list is indicative</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 8.0: </span>use <a class="reference internal" href="#openerp.api.constrains" title="openerp.api.constrains"><tt class="xref py py-func docutils literal"><span class="pre">constrains()</span></tt></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model._sql_constraints">
<tt class="descname">_sql_constraints</tt></dt>
<dd><p>list of <tt class="docutils literal"><span class="pre">(name,</span> <span class="pre">sql_definition,</span> <span class="pre">message)</span></tt> triples defining SQL
constraints to execute when generating the backing table</p>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model._parent_store">
<tt class="descname">_parent_store</tt></dt>
<dd><p>Alongside <a class="reference internal" href="#openerp.models.Model.parent_left" title="openerp.models.Model.parent_left"><tt class="xref py py-attr docutils literal"><span class="pre">parent_left</span></tt></a> and <a class="reference internal" href="#openerp.models.Model.parent_right" title="openerp.models.Model.parent_right"><tt class="xref py py-attr docutils literal"><span class="pre">parent_right</span></tt></a>, sets up a
<a class="reference external" href="javascript:if(confirm('http://en.wikipedia.org/wiki/Nested_set_model  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://en.wikipedia.org/wiki/Nested_set_model'" tppabs="http://en.wikipedia.org/wiki/Nested_set_model">nested set</a>  to
enable fast hierarchical queries on the records of the current model
(default: <tt class="docutils literal"><span class="pre">False</span></tt>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">CRUD</p>
<dl class="method">
<dt id="openerp.models.Model.create">
<tt class="descname">create</tt><big>(</big><em>vals</em><big>)</big> &rarr; record<a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L3962'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L3962"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates a new record for the model.</p>
<p>The new record is initialized using the values from <tt class="docutils literal"><span class="pre">vals</span></tt> and
if necessary those from <a class="reference internal" href="#openerp.models.Model.default_get" title="openerp.models.Model.default_get"><tt class="xref py py-meth docutils literal"><span class="pre">default_get()</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vals</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/stdtypes.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/stdtypes.html#dict'" tppabs="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; <p>values for the model&#8217;s fields, as a dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre>{&#39;field_name&#39;: field_value, ...}
</pre></div>
</div>
<p>see <a class="reference internal" href="#openerp.models.Model.write" title="openerp.models.Model.write"><tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt></a> for details</p>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new record created</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AccessError</strong> &#8211; <ul>
<li>if user has no create rights on the requested object</li>
<li>if user tries to bypass access rules for create on the requested object</li>
</ul>
</li>
<li><strong>ValidateError</strong> &#8211; if user tries to enter invalid value for a field that is not in selection</li>
<li><strong>UserError</strong> &#8211; if a loop would be created in a hierarchy of objects a result of the operation (such as setting an object as its own parent)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.browse">
<tt class="descname">browse</tt><big>(</big><span class="optional">[</span><em>ids</em><span class="optional">]</span><big>)</big> &rarr; records<a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5157'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5157"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a recordset for the ids provided as parameter in the current
environment.</p>
<p>Can take no ids, a single id or a sequence of ids.</p>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.unlink">
<tt class="descname">unlink</tt><big>(</big><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L3505'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L3505"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Deletes the records of the current set</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AccessError</strong> &#8211; <ul>
<li>if user has no unlink rights on the requested object</li>
<li>if user tries to bypass access rules for unlink on the requested object</li>
</ul>
</li>
<li><strong>UserError</strong> &#8211; if the record is default property for other records</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.write">
<tt class="descname">write</tt><big>(</big><em>vals</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L3601'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L3601"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Updates all records in the current set with the provided values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vals</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/stdtypes.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/stdtypes.html#dict'" tppabs="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; <p>fields to update and the value to set on them e.g:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span> <span class="s">&quot;Qux&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>will set the field <tt class="docutils literal"><span class="pre">foo</span></tt> to <tt class="docutils literal"><span class="pre">1</span></tt> and the field <tt class="docutils literal"><span class="pre">bar</span></tt> to
<tt class="docutils literal"><span class="pre">&quot;Qux&quot;</span></tt> if those are valid (otherwise it will trigger an error).</p>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AccessError</strong> &#8211; <ul>
<li>if user has no write rights on the requested object</li>
<li>if user tries to bypass access rules for write on the requested object</li>
</ul>
</li>
<li><strong>ValidateError</strong> &#8211; if user tries to enter invalid value for a field that is not in selection</li>
<li><strong>UserError</strong> &#8211; if a loop would be created in a hierarchy of objects a result of the operation (such as setting an object as its own parent)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<ul>
<li><p class="first">For numeric fields (<a class="reference internal" href="#openerp.fields.Integer" title="openerp.fields.Integer"><tt class="xref py py-class docutils literal"><span class="pre">Integer</span></tt></a>,
<a class="reference internal" href="#openerp.fields.Float" title="openerp.fields.Float"><tt class="xref py py-class docutils literal"><span class="pre">Float</span></tt></a>) the value should be of the
corresponding type</p>
</li>
<li><p class="first">For <a class="reference internal" href="#openerp.fields.Boolean" title="openerp.fields.Boolean"><tt class="xref py py-class docutils literal"><span class="pre">Boolean</span></tt></a>, the value should be a
<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#bool'" tppabs="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><tt class="docutils literal"><span class="pre">bool</span></tt></a></p>
</li>
<li><p class="first">For <a class="reference internal" href="#openerp.fields.Selection" title="openerp.fields.Selection"><tt class="xref py py-class docutils literal"><span class="pre">Selection</span></tt></a>, the value should match the
selection values (generally <a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#str'" tppabs="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><tt class="docutils literal"><span class="pre">str</span></tt></a>, sometimes
<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#int'" tppabs="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><tt class="docutils literal"><span class="pre">int</span></tt></a>)</p>
</li>
<li><p class="first">For <a class="reference internal" href="#openerp.fields.Many2one" title="openerp.fields.Many2one"><tt class="xref py py-class docutils literal"><span class="pre">Many2one</span></tt></a>, the value should be the
database identifier of the record to set</p>
</li>
<li><p class="first">Other non-relational fields use a string for value</p>
<div class="admonition danger">
<p class="first admonition-title">Danger</p>
<p class="last">for historical and compatibility reasons,
<a class="reference internal" href="#openerp.fields.Date" title="openerp.fields.Date"><tt class="xref py py-class docutils literal"><span class="pre">Date</span></tt></a> and
<a class="reference internal" href="#openerp.fields.Datetime" title="openerp.fields.Datetime"><tt class="xref py py-class docutils literal"><span class="pre">Datetime</span></tt></a> fields use strings as values
(written and read) rather than <a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/datetime.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/datetime.html#datetime.date'" tppabs="https://docs.python.org/2/library/datetime.html#datetime.date" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> or
<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/datetime.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/datetime.html#datetime.datetime'" tppabs="https://docs.python.org/2/library/datetime.html#datetime.datetime" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a>. These date strings are
UTC-only and formatted according to
<tt class="xref py py-const docutils literal"><span class="pre">openerp.tools.misc.DEFAULT_SERVER_DATE_FORMAT</span></tt> and
<tt class="xref py py-const docutils literal"><span class="pre">openerp.tools.misc.DEFAULT_SERVER_DATETIME_FORMAT</span></tt></p>
</div>
</li>
<li><p id="openerp-models-relationals-format"><a class="reference internal" href="#openerp.fields.One2many" title="openerp.fields.One2many"><tt class="xref py py-class docutils literal"><span class="pre">One2many</span></tt></a> and
<a class="reference internal" href="#openerp.fields.Many2many" title="openerp.fields.Many2many"><tt class="xref py py-class docutils literal"><span class="pre">Many2many</span></tt></a> use a special &#8220;commands&#8221; format to
manipulate the set of records stored in/associated with the field.</p>
<p>This format is a list of triplets executed sequentially, where each
triplet is a command to execute on the set of records. Not all
commands apply in all situations. Possible commands are:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">(0,</span> <span class="pre">_,</span> <span class="pre">values)</span></tt></dt>
<dd><p class="first last">adds a new record created from the provided <tt class="docutils literal"><span class="pre">value</span></tt> dict.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">(1,</span> <span class="pre">id,</span> <span class="pre">values)</span></tt></dt>
<dd><p class="first last">updates an existing record of id <tt class="docutils literal"><span class="pre">id</span></tt> with the values in
<tt class="docutils literal"><span class="pre">values</span></tt>. Can not be used in <a class="reference internal" href="#openerp.models.Model.create" title="openerp.models.Model.create"><tt class="xref py py-meth docutils literal"><span class="pre">create()</span></tt></a>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">(2,</span> <span class="pre">id,</span> <span class="pre">_)</span></tt></dt>
<dd><p class="first last">removes the record of id <tt class="docutils literal"><span class="pre">id</span></tt> from the set, then deletes it
(from the database). Can not be used in <a class="reference internal" href="#openerp.models.Model.create" title="openerp.models.Model.create"><tt class="xref py py-meth docutils literal"><span class="pre">create()</span></tt></a>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">(3,</span> <span class="pre">id,</span> <span class="pre">_)</span></tt></dt>
<dd><p class="first last">removes the record of id <tt class="docutils literal"><span class="pre">id</span></tt> from the set, but does not
delete it. Can not be used on
<a class="reference internal" href="#openerp.fields.One2many" title="openerp.fields.One2many"><tt class="xref py py-class docutils literal"><span class="pre">One2many</span></tt></a>. Can not be used in
<a class="reference internal" href="#openerp.models.Model.create" title="openerp.models.Model.create"><tt class="xref py py-meth docutils literal"><span class="pre">create()</span></tt></a>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">(4,</span> <span class="pre">id,</span> <span class="pre">_)</span></tt></dt>
<dd><p class="first last">adds an existing record of id <tt class="docutils literal"><span class="pre">id</span></tt> to the set. Can not be
used on <a class="reference internal" href="#openerp.fields.One2many" title="openerp.fields.One2many"><tt class="xref py py-class docutils literal"><span class="pre">One2many</span></tt></a>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">(5,</span> <span class="pre">_,</span> <span class="pre">_)</span></tt></dt>
<dd><p class="first last">removes all records from the set, equivalent to using the
command <tt class="docutils literal"><span class="pre">3</span></tt> on every record explicitly. Can not be used on
<a class="reference internal" href="#openerp.fields.One2many" title="openerp.fields.One2many"><tt class="xref py py-class docutils literal"><span class="pre">One2many</span></tt></a>. Can not be used in
<a class="reference internal" href="#openerp.models.Model.create" title="openerp.models.Model.create"><tt class="xref py py-meth docutils literal"><span class="pre">create()</span></tt></a>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">(6,</span> <span class="pre">_,</span> <span class="pre">ids)</span></tt></dt>
<dd><p class="first last">replaces all existing records in the set by the <tt class="docutils literal"><span class="pre">ids</span></tt> list,
equivalent to using the command <tt class="docutils literal"><span class="pre">5</span></tt> followed by a command
<tt class="docutils literal"><span class="pre">4</span></tt> for each <tt class="docutils literal"><span class="pre">id</span></tt> in <tt class="docutils literal"><span class="pre">ids</span></tt>. Can not be used on
<a class="reference internal" href="#openerp.fields.One2many" title="openerp.fields.One2many"><tt class="xref py py-class docutils literal"><span class="pre">One2many</span></tt></a>.</p>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Values marked as <tt class="docutils literal"><span class="pre">_</span></tt> in the list above are ignored and
can be anything, generally <tt class="docutils literal"><span class="pre">0</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt>.</p>
</div>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.read">
<tt class="descname">read</tt><big>(</big><span class="optional">[</span><em>fields</em><span class="optional">]</span><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L3095'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L3095"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Reads the requested fields for the records in <cite>self</cite>, low-level/RPC
method. In Python code, prefer <a class="reference internal" href="#openerp.models.Model.browse" title="openerp.models.Model.browse"><tt class="xref py py-meth docutils literal"><span class="pre">browse()</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fields</strong> &#8211; list of field names to return (default is all fields)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of dictionaries mapping field names to their values,
with one dictionary per record</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises AccessError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if user has no read rights on some of the given
records</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Research</p>
<dl class="method">
<dt id="openerp.models.Model.search">
<tt class="descname">search</tt><big>(</big><em>args[, offset=0][, limit=None][, order=None]</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1637'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1637"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Searches for records based on the <tt class="docutils literal"><span class="pre">args</span></tt>
<a class="reference internal" href="#reference-orm-domains"><em>search domain</em></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>args</strong> &#8211; <a class="reference internal" href="#reference-orm-domains"><em>A search domain</em></a>. Use an empty
list to match all records.</li>
<li><strong>offset</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#int'" tppabs="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; number of results to ignore (default: none)</li>
<li><strong>limit</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#int'" tppabs="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; maximum number of records to return (default: all)</li>
<li><strong>order</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#str'" tppabs="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; sort string</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">at most <tt class="docutils literal"><span class="pre">limit</span></tt> records matching the search criteria</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises AccessError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last"><ul class="simple">
<li>if user tries to bypass access rules for read on the requested object.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.search_count">
<tt class="descname">search_count</tt><big>(</big><em>args</em><big>)</big> &rarr; int<a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1626'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1626"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the number of records in the current model matching <a class="reference internal" href="#reference-orm-domains"><em>the
provided domain</em></a>.</p>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.name_search">
<tt class="descname">name_search</tt><big>(</big><em>name=''</em>, <em>args=None</em>, <em>operator='ilike'</em>, <em>limit=100</em><big>)</big> &rarr; records<a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1709'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1709"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Search for records that have a display name matching the given
<cite>name</cite> pattern when compared with the given <cite>operator</cite>, while also
matching the optional search domain (<cite>args</cite>).</p>
<p>This is used for example to provide suggestions based on a partial
value for a relational field. Sometimes be seen as the inverse
function of <a class="reference internal" href="#openerp.models.Model.name_get" title="openerp.models.Model.name_get"><tt class="xref py py-meth docutils literal"><span class="pre">name_get()</span></tt></a>, but it is not guaranteed to be.</p>
<p>This method is equivalent to calling <a class="reference internal" href="#openerp.models.Model.search" title="openerp.models.Model.search"><tt class="xref py py-meth docutils literal"><span class="pre">search()</span></tt></a> with a search
domain based on <tt class="docutils literal"><span class="pre">display_name</span></tt> and then <a class="reference internal" href="#openerp.models.Model.name_get" title="openerp.models.Model.name_get"><tt class="xref py py-meth docutils literal"><span class="pre">name_get()</span></tt></a> on the
result of the search.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#str'" tppabs="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the name pattern to match</li>
<li><strong>args</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#list'" tppabs="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; optional search domain (see <a class="reference internal" href="#openerp.models.Model.search" title="openerp.models.Model.search"><tt class="xref py py-meth docutils literal"><span class="pre">search()</span></tt></a> for
syntax), specifying further restrictions</li>
<li><strong>operator</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#str'" tppabs="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; domain operator for matching <cite>name</cite>, such as
<tt class="docutils literal"><span class="pre">'like'</span></tt> or <tt class="docutils literal"><span class="pre">'='</span></tt>.</li>
<li><strong>limit</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#int'" tppabs="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; optional max number of records to return</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of pairs <tt class="docutils literal"><span class="pre">(id,</span> <span class="pre">text_repr)</span></tt> for all matching records.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Recordset operations</p>
<dl class="attribute">
<dt id="openerp.models.Model.ids">
<tt class="descname">ids</tt></dt>
<dd><p>List of actual record ids in this recordset (ignores placeholder
ids for records to create)</p>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.ensure_one">
<tt class="descname">ensure_one</tt><big>(</big><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5190'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5190"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Verifies that the current recorset holds a single record. Raises
an exception otherwise.</p>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.exists">
<tt class="descname">exists</tt><big>(</big><big>)</big> &rarr; records<a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L4772'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L4772"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the subset of records in <cite>self</cite> that exist, and marks deleted
records as such in cache. It can be used as a test on records:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>By convention, new records are returned as existing.</p>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.filtered">
<tt class="descname">filtered</tt><big>(</big><em>func</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5300'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5300"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Select the records in <cite>self</cite> such that <cite>func(rec)</cite> is true, and
return them as a recordset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> &#8211; a function or a dot-separated sequence of field names</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.sorted">
<tt class="descname">sorted</tt><big>(</big><em>key=None</em>, <em>reverse=False</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5311'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5311"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the recordset <cite>self</cite> ordered by <cite>key</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> &#8211; either a function of one argument that returns a
comparison key for each record, or <tt class="docutils literal"><span class="pre">None</span></tt>, in which case
records are ordered according the default model&#8217;s order</li>
<li><strong>reverse</strong> &#8211; if <tt class="docutils literal"><span class="pre">True</span></tt>, return the result in reverse order</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.mapped">
<tt class="descname">mapped</tt><big>(</big><em>func</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5274'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5274"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Apply <cite>func</cite> on all records in <cite>self</cite>, and return the result as a
list or a recordset (if <cite>func</cite> return recordsets). In the latter
case, the order of the returned recordset is arbitrary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> &#8211; a function or a dot-separated sequence of field names</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Environment swapping</p>
<dl class="method">
<dt id="openerp.models.Model.sudo">
<tt class="descname">sudo</tt><big>(</big><span class="optional">[</span><em>user=SUPERUSER</em><span class="optional">]</span><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5206'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5206"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a new version of this recordset attached to the provided
user.</p>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.with_context">
<tt class="descname">with_context</tt><big>(</big><em>[context][, **overrides]</em><big>)</big> &rarr; records<a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5214'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5214"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a new version of this recordset attached to an extended
context.</p>
<p>The extended context is either the provided <tt class="docutils literal"><span class="pre">context</span></tt> in which
<tt class="docutils literal"><span class="pre">overrides</span></tt> are merged or the <em>current</em> context in which
<tt class="docutils literal"><span class="pre">overrides</span></tt> are merged e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># current context is {&#39;key1&#39;: True}</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">with_context</span><span class="p">({},</span> <span class="n">key2</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c"># -&gt; r2._context is {&#39;key2&#39;: True}</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">with_context</span><span class="p">(</span><span class="n">key2</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c"># -&gt; r2._context is {&#39;key1&#39;: True, &#39;key2&#39;: True}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.with_env">
<tt class="descname">with_env</tt><big>(</big><em>env</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5198'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L5198"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a new version of this recordset attached to the provided
environment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<p class="rubric">Fields and views querying</p>
<dl class="method">
<dt id="openerp.models.Model.fields_get">
<tt class="descname">fields_get</tt><big>(</big><em>[fields][, attributes]</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L3010'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L3010"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the definition of each field.</p>
<p>The returned value is a dictionary (indiced by field name) of
dictionaries. The _inherits&#8217;d fields are included. The string, help,
and selection (if present) attributes are translated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>allfields</strong> &#8211; list of fields to document, all if empty or not provided</li>
<li><strong>attributes</strong> &#8211; list of description attributes to return for each field, all if empty or not provided</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.fields_view_get">
<tt class="descname">fields_view_get</tt><big>(</big><span class="optional">[</span><em>view_id | view_type='form'</em><span class="optional">]</span><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1486'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1486"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the detailed composition of the requested view like fields, model, view architecture</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>view_id</strong> &#8211; id of the view or None</li>
<li><strong>view_type</strong> &#8211; type of the view to return if view_id is None (&#8216;form&#8217;, &#8216;tree&#8217;, ...)</li>
<li><strong>toolbar</strong> &#8211; true to include contextual actions</li>
<li><strong>submenu</strong> &#8211; deprecated</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dictionary describing the composition of the requested view (including inherited views and extensions)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AttributeError</strong> &#8211; <ul>
<li>if the inherited view has unknown position to work with other than &#8216;before&#8217;, &#8216;after&#8217;, &#8216;inside&#8217;, &#8216;replace&#8217;</li>
<li>if some tag other than &#8216;position&#8217; is found in parent view</li>
</ul>
</li>
<li><strong>Invalid ArchitectureError</strong> &#8211; if there is view type other than form, tree, calendar, search etc defined on the structure</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">???</p>
<dl class="method">
<dt id="openerp.models.Model.default_get">
<tt class="descname">default_get</tt><big>(</big><em>fields</em><big>)</big> &rarr; default_values<a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1294'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1294"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return default values for the fields in <cite>fields_list</cite>. Default
values are determined by the context, user defaults, and the model
itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fields_list</strong> &#8211; a list of field names</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a dictionary mapping each field name to its corresponding
default value, if it has one.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.copy">
<tt class="descname">copy</tt><big>(</big><em>default=None</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L4753'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L4753"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Duplicate record with given id updating it with default values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>default</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/stdtypes.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/stdtypes.html#dict'" tppabs="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; dictionary of field values to override in the
original values of the copied record, e.g: <tt class="docutils literal"><span class="pre">{'field_name':</span> <span class="pre">overridden_value,</span> <span class="pre">...}</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">new record</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.name_get">
<tt class="descname">name_get</tt><big>(</big><big>)</big> &rarr; [(id, name), ...]<a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1665'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1665"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns a textual representation for the records in <tt class="docutils literal"><span class="pre">self</span></tt>.
By default this is the value of the <tt class="docutils literal"><span class="pre">display_name</span></tt> field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of pairs <tt class="docutils literal"><span class="pre">(id,</span> <span class="pre">text_repr)</span></tt> for each records</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list(tuple)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="openerp.models.Model.name_create">
<tt class="descname">name_create</tt><big>(</big><em>name</em><big>)</big> &rarr; record<a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/models.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1687'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/models.py#L1687"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a new record by calling <a class="reference internal" href="#openerp.models.Model.create" title="openerp.models.Model.create"><tt class="xref py py-meth docutils literal"><span class="pre">create()</span></tt></a> with only one value
provided: the display name of the new record.</p>
<p>The new record will be initialized with any default values
applicable to this model, or provided through the context. The usual
behavior of <a class="reference internal" href="#openerp.models.Model.create" title="openerp.models.Model.create"><tt class="xref py py-meth docutils literal"><span class="pre">create()</span></tt></a> applies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; display name of the record to create</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the <a class="reference internal" href="#openerp.models.Model.name_get" title="openerp.models.Model.name_get"><tt class="xref py py-meth docutils literal"><span class="pre">name_get()</span></tt></a> pair value of the created record</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric" id="reference-orm-model-automatic">Automatic fields</p>
<dl class="attribute">
<dt id="openerp.models.Model.id">
<tt class="descname">id</tt></dt>
<dd><p>Identifier <a class="reference internal" href="#openerp.fields.Field" title="openerp.fields.Field"><tt class="xref py py-class docutils literal"><span class="pre">field</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model._log_access">
<tt class="descname">_log_access</tt></dt>
<dd><p>Whether log access fields (<tt class="docutils literal"><span class="pre">create_date</span></tt>, <tt class="docutils literal"><span class="pre">write_uid</span></tt>, ...) should
be generated (default: <tt class="docutils literal"><span class="pre">True</span></tt>)</p>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model.create_date">
<tt class="descname">create_date</tt></dt>
<dd><p>Date at which the record was created</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">Datetime</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model.create_uid">
<tt class="descname">create_uid</tt></dt>
<dd><p>Relational field to the user who created the record</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">res.users</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model.write_date">
<tt class="descname">write_date</tt></dt>
<dd><p>Date at which the record was last modified</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">Datetime</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model.write_uid">
<tt class="descname">write_uid</tt></dt>
<dd><p>Relational field to the last user who modified the record</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">res.users</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Reserved field names</p>
<p>A few field names are reserved for pre-defined behaviors beyond that of
automated fields. They should be defined on a model when the related
behavior is desired:</p>
<dl class="attribute">
<dt id="openerp.models.Model.name">
<tt class="descname">name</tt></dt>
<dd><p>default value for <a class="reference internal" href="#openerp.models.Model._rec_name" title="openerp.models.Model._rec_name"><tt class="xref py py-attr docutils literal"><span class="pre">_rec_name</span></tt></a>, used to
display records in context where a representative &#8220;naming&#8221; is
necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="#openerp.fields.Char" title="openerp.fields.Char"><tt class="xref py py-class docutils literal"><span class="pre">Char</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model.active">
<tt class="descname">active</tt></dt>
<dd><p>toggles the global visibility of the record, if <tt class="docutils literal"><span class="pre">active</span></tt> is set to
<tt class="docutils literal"><span class="pre">False</span></tt> the record is invisible in most searches and listing</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="#openerp.fields.Boolean" title="openerp.fields.Boolean"><tt class="xref py py-class docutils literal"><span class="pre">Boolean</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model.sequence">
<tt class="descname">sequence</tt></dt>
<dd><p>Alterable ordering criteria, allows drag-and-drop reordering of models
in list views</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="#openerp.fields.Integer" title="openerp.fields.Integer"><tt class="xref py py-class docutils literal"><span class="pre">Integer</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model.state">
<tt class="descname">state</tt></dt>
<dd><p>lifecycle stages of the object, used by the <tt class="docutils literal"><span class="pre">states</span></tt> attribute on
<a class="reference internal" href="#openerp.fields.Field" title="openerp.fields.Field"><tt class="xref py py-class docutils literal"><span class="pre">fields</span></tt></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="#openerp.fields.Selection" title="openerp.fields.Selection"><tt class="xref py py-class docutils literal"><span class="pre">Selection</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model.parent_id">
<tt class="descname">parent_id</tt></dt>
<dd><p>used to order records in a tree structure and enables the <tt class="docutils literal"><span class="pre">child_of</span></tt>
operator in domains</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="#openerp.fields.Many2one" title="openerp.fields.Many2one"><tt class="xref py py-class docutils literal"><span class="pre">Many2one</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model.parent_left">
<tt class="descname">parent_left</tt></dt>
<dd><p>used with <a class="reference internal" href="#openerp.models.Model._parent_store" title="openerp.models.Model._parent_store"><tt class="xref py py-attr docutils literal"><span class="pre">_parent_store</span></tt></a>, allows faster tree structure access</p>
</dd></dl>

<dl class="attribute">
<dt id="openerp.models.Model.parent_right">
<tt class="descname">parent_right</tt></dt>
<dd><p>see <a class="reference internal" href="#openerp.models.Model.parent_left" title="openerp.models.Model.parent_left"><tt class="xref py py-attr docutils literal"><span class="pre">parent_left</span></tt></a></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-openerp.api">
<span id="method-decorators"></span><span id="reference-orm-decorators"></span><h2>Method decorators</h2>
<p>This module provides the elements for managing two different API styles,
namely the &#8220;traditional&#8221; and &#8220;record&#8221; styles.</p>
<p>In the &#8220;traditional&#8221; style, parameters like the database cursor, user id,
context dictionary and record ids (usually denoted as <tt class="docutils literal"><span class="pre">cr</span></tt>, <tt class="docutils literal"><span class="pre">uid</span></tt>,
<tt class="docutils literal"><span class="pre">context</span></tt>, <tt class="docutils literal"><span class="pre">ids</span></tt>) are passed explicitly to all methods. In the &#8220;record&#8221;
style, those parameters are hidden into model instances, which gives it a
more object-oriented feel.</p>
<p>For instance, the statements:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">MODEL</span><span class="p">)</span>
<span class="n">ids</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">DOMAIN</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
<span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">browse</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">rec</span><span class="o">.</span><span class="n">name</span>
<span class="n">model</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">VALUES</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
<p>may also be written as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">env</span> <span class="o">=</span> <span class="n">Env</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>         <span class="c"># cr, uid, context wrapped in env</span>
<span class="n">recs</span> <span class="o">=</span> <span class="n">env</span><span class="p">[</span><span class="n">MODEL</span><span class="p">]</span>                   <span class="c"># retrieve an instance of MODEL</span>
<span class="n">recs</span> <span class="o">=</span> <span class="n">recs</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">DOMAIN</span><span class="p">)</span>          <span class="c"># search returns a recordset</span>
<span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">recs</span><span class="p">:</span>                    <span class="c"># iterate over the records</span>
    <span class="k">print</span> <span class="n">rec</span><span class="o">.</span><span class="n">name</span>
<span class="n">recs</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">VALUES</span><span class="p">)</span>                  <span class="c"># update all records in recs</span>
</pre></div>
</div>
<p>Methods written in the &#8220;traditional&#8221; style are automatically decorated,
following some heuristics based on parameter names.</p>
<dl class="function">
<dt id="openerp.api.one">
<tt class="descclassname">openerp.api.</tt><tt class="descname">one</tt><big>(</big><em>method</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/api.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L366'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L366"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Decorate a record-style method where <cite>self</cite> is expected to be a
singleton instance. The decorated method automatically loops on records,
and makes a list with the results. In case the method is decorated with
&#64;returns, it concatenates the resulting instances. Such a method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@api.one</span>
<span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
<p>may be called in both record and traditional styles, like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># recs = model.browse(cr, uid, ids, context)</span>
<span class="n">names</span> <span class="o">=</span> <span class="n">recs</span><span class="o">.</span><span class="n">method</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

<span class="n">names</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">method</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="openerp.api.multi">
<tt class="descclassname">openerp.api.</tt><tt class="descname">multi</tt><big>(</big><em>method</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/api.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L338'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L338"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Decorate a record-style method where <cite>self</cite> is a recordset. The method
typically defines an operation on records. Such a method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@api.multi</span>
<span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>may be called in both record and traditional styles, like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># recs = model.browse(cr, uid, ids, context)</span>
<span class="n">recs</span><span class="o">.</span><span class="n">method</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

<span class="n">model</span><span class="o">.</span><span class="n">method</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="openerp.api.model">
<tt class="descclassname">openerp.api.</tt><tt class="descname">model</tt><big>(</big><em>method</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/api.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L308'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L308"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Decorate a record-style method where <cite>self</cite> is a recordset, but its
contents is not relevant, only the model is. Such a method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@api.model</span>
<span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>may be called in both record and traditional styles, like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># recs = model.browse(cr, uid, ids, context)</span>
<span class="n">recs</span><span class="o">.</span><span class="n">method</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

<span class="n">model</span><span class="o">.</span><span class="n">method</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that no <cite>ids</cite> are passed to the method in the traditional style.</p>
</dd></dl>

<dl class="function">
<dt id="openerp.api.depends">
<tt class="descclassname">openerp.api.</tt><tt class="descname">depends</tt><big>(</big><em>*args</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/api.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L174'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L174"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a decorator that specifies the field dependencies of a &#8220;compute&#8221;
method (for new-style function fields). Each argument must be a string
that consists in a dot-separated sequence of field names:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pname</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">compute</span><span class="o">=</span><span class="s">&#39;_compute_pname&#39;</span><span class="p">)</span>

<span class="nd">@api.one</span>
<span class="nd">@api.depends</span><span class="p">(</span><span class="s">&#39;partner_id.name&#39;</span><span class="p">,</span> <span class="s">&#39;partner_id.is_company&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_compute_pname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">partner_id</span><span class="o">.</span><span class="n">is_company</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pname</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">partner_id</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">partner_id</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
<p>One may also pass a single function as argument. In that case, the
dependencies are given by calling the function with the field&#8217;s model.</p>
</dd></dl>

<dl class="function">
<dt id="openerp.api.constrains">
<tt class="descclassname">openerp.api.</tt><tt class="descname">constrains</tt><big>(</big><em>*args</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/api.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L140'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L140"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Decorates a constraint checker. Each argument must be a field name
used in the check:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@api.one</span>
<span class="nd">@api.constrains</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;description&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_check_description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s">&quot;Fields name and description must be different&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Invoked on the records on which one of the named fields has been modified.</p>
<p>Should raise <tt class="xref py py-class docutils literal"><span class="pre">ValidationError</span></tt> if the
validation failed.</p>
</dd></dl>

<dl class="function">
<dt id="openerp.api.onchange">
<tt class="descclassname">openerp.api.</tt><tt class="descname">onchange</tt><big>(</big><em>*args</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/api.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L158'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L158"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a decorator to decorate an onchange method for given fields.
Each argument must be a field name:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@api.onchange</span><span class="p">(</span><span class="s">&#39;partner_id&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_onchange_partner</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Dear </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">partner_id</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In the form views where the field appears, the method will be called
when one of the given fields is modified. The method is invoked on a
pseudo-record that contains the values present in the form. Field
assignments on that record are automatically sent back to the client.</p>
</dd></dl>

<dl class="function">
<dt id="openerp.api.returns">
<tt class="descclassname">openerp.api.</tt><tt class="descname">returns</tt><big>(</big><em>model</em>, <em>downgrade=None</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/api.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L199'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L199"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a decorator for methods that return instances of <cite>model</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>model</strong> &#8211; a model name, or <tt class="docutils literal"><span class="pre">'self'</span></tt> for the current model</li>
<li><strong>downgrade</strong> &#8211; a function <cite>downgrade(value)</cite> to convert the
record-style <cite>value</cite> to a traditional-style output</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The decorator adapts the method output to the api style: <cite>id</cite>, <cite>ids</cite> or
<tt class="docutils literal"><span class="pre">False</span></tt> for the traditional style, and recordset for the record style:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@model</span>
<span class="nd">@returns</span><span class="p">(</span><span class="s">&#39;res.partner&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">find_partner</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
    <span class="o">...</span>     <span class="c"># return some record</span>

<span class="c"># output depends on call style: traditional vs record style</span>
<span class="n">partner_id</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">find_partner</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>

<span class="c"># recs = model.browse(cr, uid, ids, context)</span>
<span class="n">partner_record</span> <span class="o">=</span> <span class="n">recs</span><span class="o">.</span><span class="n">find_partner</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the decorated method must satisfy that convention.</p>
<p>Those decorators are automatically <em>inherited</em>: a method that overrides
a decorated existing method will be decorated with the same
<tt class="docutils literal"><span class="pre">&#64;returns(model)</span></tt>.</p>
</dd></dl>

<dl class="function">
<dt id="openerp.api.v7">
<tt class="descclassname">openerp.api.</tt><tt class="descname">v7</tt><big>(</big><em>method_v7</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/api.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L558'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L558"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Decorate a method that supports the old-style api only. A new-style api
may be provided by redefining a method with the same name and decorated
with <a class="reference internal" href="#openerp.api.v8" title="openerp.api.v8"><tt class="xref py py-func docutils literal"><span class="pre">v8()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@api.v7</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="o">...</span>

<span class="nd">@api.v8</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Note that the wrapper method uses the docstring of the first method.</p>
</dd></dl>

<dl class="function">
<dt id="openerp.api.v8">
<tt class="descclassname">openerp.api.</tt><tt class="descname">v8</tt><big>(</big><em>method_v8</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/api.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L584'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/api.py#L584"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Decorate a method that supports the new-style api only. An old-style api
may be provided by redefining a method with the same name and decorated
with <a class="reference internal" href="#openerp.api.v7" title="openerp.api.v7"><tt class="xref py py-func docutils literal"><span class="pre">v7()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@api.v8</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="o">...</span>

<span class="nd">@api.v7</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cr</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">ids</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Note that the wrapper method uses the docstring of the first method.</p>
</dd></dl>

</div>
<div class="section" id="fields">
<span id="reference-orm-fields"></span><h2>Fields</h2>
<div class="section" id="basic-fields">
<span id="reference-orm-fields-basic"></span><h3>Basic fields</h3>
<dl class="class">
<dt id="openerp.fields.Field">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Field</tt><big>(</big><em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L92'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L92"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>The field descriptor contains the field definition, and manages accesses
and assignments of the corresponding field on records. The following
attributes may be provided when instanciating a field:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>string</strong> &#8211; the label of the field seen by users (string); if not
set, the ORM takes the field name in the class (capitalized).</li>
<li><strong>help</strong> &#8211; the tooltip of the field seen by users (string)</li>
<li><strong>readonly</strong> &#8211; whether the field is readonly (boolean, by default <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
<li><strong>required</strong> &#8211; whether the value of the field is required (boolean, by
default <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
<li><strong>index</strong> &#8211; whether the field is indexed in database (boolean, by
default <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
<li><strong>default</strong> &#8211; the default value for the field; this is either a static
value, or a function taking a recordset and returning a value</li>
<li><strong>states</strong> &#8211; a dictionary mapping state values to lists of UI attribute-value
pairs; possible attributes are: &#8216;readonly&#8217;, &#8216;required&#8217;, &#8216;invisible&#8217;.
Note: Any state-based condition requires the <tt class="docutils literal"><span class="pre">state</span></tt> field value to be
available on the client-side UI. This is typically done by including it in
the relevant views, possibly made invisible if not relevant for the
end-user.</li>
<li><strong>groups</strong> &#8211; comma-separated list of group xml ids (string); this
restricts the field access to the users of the given groups only</li>
<li><strong>copy</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#bool'" tppabs="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; whether the field value should be copied when the record
is duplicated (default: <tt class="docutils literal"><span class="pre">True</span></tt> for normal fields, <tt class="docutils literal"><span class="pre">False</span></tt> for
<tt class="docutils literal"><span class="pre">one2many</span></tt> and computed fields, including property fields and
related fields)</li>
<li><strong>oldname</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/string.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/string.html#module-string'" tppabs="https://docs.python.org/2/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; the previous name of this field, so that ORM can rename
it automatically at migration</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric" id="field-computed">Computed fields</p>
<p>One can define a field whose value is computed instead of simply being
read from the database. The attributes that are specific to computed
fields are given below. To define such a field, simply provide a value
for the attribute <cite>compute</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>compute</strong> &#8211; name of a method that computes the field</li>
<li><strong>inverse</strong> &#8211; name of a method that inverses the field (optional)</li>
<li><strong>search</strong> &#8211; name of a method that implement search on the field (optional)</li>
<li><strong>store</strong> &#8211; whether the field is stored in database (boolean, by
default <tt class="docutils literal"><span class="pre">False</span></tt> on computed fields)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The methods given for <cite>compute</cite>, <cite>inverse</cite> and <cite>search</cite> are model
methods. Their signature is shown in the following example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">upper</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">compute</span><span class="o">=</span><span class="s">&#39;_compute_upper&#39;</span><span class="p">,</span>
                    <span class="n">inverse</span><span class="o">=</span><span class="s">&#39;_inverse_upper&#39;</span><span class="p">,</span>
                    <span class="n">search</span><span class="o">=</span><span class="s">&#39;_search_upper&#39;</span><span class="p">)</span>

<span class="nd">@api.depends</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_compute_upper</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">upper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="k">else</span> <span class="bp">False</span>

<span class="k">def</span> <span class="nf">_inverse_upper</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upper</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">upper</span> <span class="k">else</span> <span class="bp">False</span>

<span class="k">def</span> <span class="nf">_search_upper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operator</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">operator</span> <span class="o">==</span> <span class="s">&#39;like&#39;</span><span class="p">:</span>
        <span class="n">operator</span> <span class="o">=</span> <span class="s">&#39;ilike&#39;</span>
    <span class="k">return</span> <span class="p">[(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="n">operator</span><span class="p">,</span> <span class="n">value</span><span class="p">)]</span>
</pre></div>
</div>
<p>The compute method has to assign the field on all records of the invoked
recordset. The decorator <a class="reference internal" href="#openerp.api.depends" title="openerp.api.depends"><tt class="xref py py-meth docutils literal"><span class="pre">openerp.api.depends()</span></tt></a> must be applied on
the compute method to specify the field dependencies; those dependencies
are used to determine when to recompute the field; recomputation is
automatic and guarantees cache/database consistency. Note that the same
method can be used for several fields, you simply have to assign all the
given fields in the method; the method will be invoked once for all
those fields.</p>
<p>By default, a computed field is not stored to the database, and is
computed on-the-fly. Adding the attribute <tt class="docutils literal"><span class="pre">store=True</span></tt> will store the
field&#8217;s values in the database. The advantage of a stored field is that
searching on that field is done by the database itself. The disadvantage
is that it requires database updates when the field must be recomputed.</p>
<p>The inverse method, as its name says, does the inverse of the compute
method: the invoked records have a value for the field, and you must
apply the necessary changes on the field dependencies such that the
computation gives the expected value. Note that a computed field without
an inverse method is readonly by default.</p>
<p>The search method is invoked when processing domains before doing an
actual search on the model. It must return a domain equivalent to the
condition: <cite>field operator value</cite>.</p>
<p class="rubric" id="field-related">Related fields</p>
<p>The value of a related field is given by following a sequence of
relational fields and reading a field on the reached model. The complete
sequence of fields to traverse is specified by the attribute</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>related</strong> &#8211; sequence of field names</td>
</tr>
</tbody>
</table>
<p>Some field attributes are automatically copied from the source field if
they are not redefined: <cite>string</cite>, <cite>help</cite>, <cite>readonly</cite>, <cite>required</cite> (only
if all fields in the sequence are required), <cite>groups</cite>, <cite>digits</cite>, <cite>size</cite>,
<cite>translate</cite>, <cite>sanitize</cite>, <cite>selection</cite>, <cite>comodel_name</cite>, <cite>domain</cite>,
<cite>context</cite>. All semantic-free attributes are copied from the source
field.</p>
<p>By default, the values of related fields are not stored to the database.
Add the attribute <tt class="docutils literal"><span class="pre">store=True</span></tt> to make it stored, just like computed
fields. Related fields are automatically recomputed when their
dependencies are modified.</p>
<p class="rubric" id="field-company-dependent">Company-dependent fields</p>
<p>Formerly known as &#8216;property&#8217; fields, the value of those fields depends
on the company. In other words, users that belong to different companies
may see different values for the field on a given record.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>company_dependent</strong> &#8211; whether the field is company-dependent (boolean)</td>
</tr>
</tbody>
</table>
<p class="rubric" id="field-incremental-definition">Incremental definition</p>
<p>A field is defined as class attribute on a model class. If the model
is extended (see <a class="reference internal" href="#openerp.models.Model" title="openerp.models.Model"><tt class="xref py py-class docutils literal"><span class="pre">Model</span></tt></a>), one can also extend
the field definition by redefining a field with the same name and same
type on the subclass. In that case, the attributes of the field are
taken from the parent class and overridden by the ones given in
subclasses.</p>
<p>For instance, the second class below only adds a tooltip on the field
<tt class="docutils literal"><span class="pre">state</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">First</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s">&#39;foo&#39;</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Selection</span><span class="p">([</span><span class="o">...</span><span class="p">],</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Second</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_inherit</span> <span class="o">=</span> <span class="s">&#39;foo&#39;</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Selection</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s">&quot;Blah blah blah&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="openerp.fields.Char">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Char</tt><big>(</big><em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1042'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1042"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">openerp.fields._String</span></tt></p>
<p>Basic string field, can be length-limited, usually displayed as a
single-line string in clients</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>size</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#int'" tppabs="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; the maximum size of values stored for that field</li>
<li><strong>translate</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/functions.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/functions.html#bool'" tppabs="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; whether the values of this field can be translated</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="openerp.fields.Boolean">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Boolean</tt><big>(</big><em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L951'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L951"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#openerp.fields.Field" title="openerp.fields.Field"><tt class="xref py py-class docutils literal"><span class="pre">openerp.fields.Field</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="openerp.fields.Integer">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Integer</tt><big>(</big><em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L963'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L963"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#openerp.fields.Field" title="openerp.fields.Field"><tt class="xref py py-class docutils literal"><span class="pre">openerp.fields.Field</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="openerp.fields.Float">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Float</tt><big>(</big><em>string=None</em>, <em>digits=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L989'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L989"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#openerp.fields.Field" title="openerp.fields.Field"><tt class="xref py py-class docutils literal"><span class="pre">openerp.fields.Field</span></tt></a></p>
<p>The precision digits are given by the attribute</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>digits</strong> &#8211; a pair (total, decimal), or a function taking a database
cursor and returning a pair (total, decimal)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="openerp.fields.Text">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Text</tt><big>(</big><em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1066'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1066"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">openerp.fields._String</span></tt></p>
<p>Very similar to <a class="reference internal" href="#openerp.fields.Char" title="openerp.fields.Char"><tt class="xref py py-class docutils literal"><span class="pre">Char</span></tt></a> but used for longer contents, does not
have a size and usually displayed as a multiline text box.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>translate</strong> &#8211; whether the value of this field can be translated</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="openerp.fields.Selection">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Selection</tt><big>(</big><em>selection=None</em>, <em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1233'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1233"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#openerp.fields.Field" title="openerp.fields.Field"><tt class="xref py py-class docutils literal"><span class="pre">openerp.fields.Field</span></tt></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>selection</strong> &#8211; specifies the possible values for this field.
It is given as either a list of pairs (<cite>value</cite>, <cite>string</cite>), or a
model method, or a method name.</li>
<li><strong>selection_add</strong> &#8211; provides an extension of the selection in the case
of an overridden field. It is a list of pairs (<cite>value</cite>, <cite>string</cite>).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The attribute <cite>selection</cite> is mandatory except in the case of
<a class="reference internal" href="#field-related"><em>related fields</em></a> or <a class="reference internal" href="#field-incremental-definition"><em>field extensions</em></a>.</p>
</dd></dl>

<dl class="class">
<dt id="openerp.fields.Html">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Html</tt><big>(</big><em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1079'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1079"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">openerp.fields._String</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="openerp.fields.Date">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Date</tt><big>(</big><em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1095'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1095"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#openerp.fields.Field" title="openerp.fields.Field"><tt class="xref py py-class docutils literal"><span class="pre">openerp.fields.Field</span></tt></a></p>
<dl class="staticmethod">
<dt id="openerp.fields.Date.context_today">
<em class="property">static </em><tt class="descname">context_today</tt><big>(</big><em>record</em>, <em>timestamp=None</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1105'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1105"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the current date as seen in the client&#8217;s timezone in a format
fit for date fields. This method may be used to compute default
values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timestamp</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/datetime.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/datetime.html#module-datetime'" tppabs="https://docs.python.org/2/library/datetime.html#module-datetime" title="(in Python v2.7)"><em>datetime</em></a>) &#8211; optional datetime value to use instead of
the current date and time (must be a datetime, regular dates
can&#8217;t be converted between timezones.)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="openerp.fields.Date.from_string">
<em class="property">static </em><tt class="descname">from_string</tt><big>(</big><em>value</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1128'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1128"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Convert an ORM <cite>value</cite> into a <tt class="xref py py-class docutils literal"><span class="pre">date</span></tt> value.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="openerp.fields.Date.to_string">
<em class="property">static </em><tt class="descname">to_string</tt><big>(</big><em>value</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1134'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1134"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Convert a <tt class="xref py py-class docutils literal"><span class="pre">date</span></tt> value into the format expected by the ORM.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="openerp.fields.Date.today">
<em class="property">static </em><tt class="descname">today</tt><big>(</big><em>*args</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1098'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1098"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the current day in the format expected by the ORM.
This function may be used to compute default values.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="openerp.fields.Datetime">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Datetime</tt><big>(</big><em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1155'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1155"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#openerp.fields.Field" title="openerp.fields.Field"><tt class="xref py py-class docutils literal"><span class="pre">openerp.fields.Field</span></tt></a></p>
<dl class="staticmethod">
<dt id="openerp.fields.Datetime.context_timestamp">
<em class="property">static </em><tt class="descname">context_timestamp</tt><big>(</big><em>record</em>, <em>timestamp</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1165'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1165"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns the given timestamp converted to the client&#8217;s timezone.
This method is <em>not</em> meant for use as a _defaults initializer,
because datetime fields are automatically converted upon
display on client side. For _defaults you <tt class="xref py py-meth docutils literal"><span class="pre">fields.datetime.now()</span></tt>
should be used instead.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timestamp</strong> (<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/library/datetime.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/library/datetime.html#module-datetime'" tppabs="https://docs.python.org/2/library/datetime.html#module-datetime" title="(in Python v2.7)"><em>datetime</em></a>) &#8211; naive datetime value (expressed in UTC)
to be converted to the client timezone</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">datetime</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">timestamp converted to timezone-aware datetime in context
timezone</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="openerp.fields.Datetime.from_string">
<em class="property">static </em><tt class="descname">from_string</tt><big>(</big><em>value</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1193'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1193"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Convert an ORM <cite>value</cite> into a <tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt> value.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="openerp.fields.Datetime.now">
<em class="property">static </em><tt class="descname">now</tt><big>(</big><em>*args</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1158'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1158"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the current day and time in the format expected by the ORM.
This function may be used to compute default values.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="openerp.fields.Datetime.to_string">
<em class="property">static </em><tt class="descname">to_string</tt><big>(</big><em>value</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1201'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1201"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Convert a <tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt> value into the format expected by the ORM.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="relational-fields">
<span id="reference-orm-fields-relational"></span><h3>Relational fields</h3>
<dl class="class">
<dt id="openerp.fields.Many2one">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Many2one</tt><big>(</big><em>comodel_name=None</em>, <em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1421'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1421"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">openerp.fields._Relational</span></tt></p>
<p>The value of such a field is a recordset of size 0 (no
record) or 1 (a single record).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>comodel_name</strong> &#8211; name of the target model (string)</li>
<li><strong>domain</strong> &#8211; an optional domain to set on candidate values on the
client side (domain or string)</li>
<li><strong>context</strong> &#8211; an optional context to use on the client side when
handling that field (dictionary)</li>
<li><strong>ondelete</strong> &#8211; what to do when the referred record is deleted;
possible values are: <tt class="docutils literal"><span class="pre">'set</span> <span class="pre">null'</span></tt>, <tt class="docutils literal"><span class="pre">'restrict'</span></tt>, <tt class="docutils literal"><span class="pre">'cascade'</span></tt></li>
<li><strong>auto_join</strong> &#8211; whether JOINs are generated upon search through that
field (boolean, by default <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
<li><strong>delegate</strong> &#8211; set it to <tt class="docutils literal"><span class="pre">True</span></tt> to make fields of the target model
accessible from the current model (corresponds to <tt class="docutils literal"><span class="pre">_inherits</span></tt>)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The attribute <cite>comodel_name</cite> is mandatory except in the case of related
fields or field extensions.</p>
</dd></dl>

<dl class="class">
<dt id="openerp.fields.One2many">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">One2many</tt><big>(</big><em>comodel_name=None</em>, <em>inverse_name=None</em>, <em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1622'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1622"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">openerp.fields._RelationalMulti</span></tt></p>
<p>One2many field; the value of such a field is the recordset of all the
records in <cite>comodel_name</cite> such that the field <cite>inverse_name</cite> is equal to
the current record.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>comodel_name</strong> &#8211; name of the target model (string)</li>
<li><strong>inverse_name</strong> &#8211; name of the inverse <cite>Many2one</cite> field in
<cite>comodel_name</cite> (string)</li>
<li><strong>domain</strong> &#8211; an optional domain to set on candidate values on the
client side (domain or string)</li>
<li><strong>context</strong> &#8211; an optional context to use on the client side when
handling that field (dictionary)</li>
<li><strong>auto_join</strong> &#8211; whether JOINs are generated upon search through that
field (boolean, by default <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
<li><strong>limit</strong> &#8211; optional limit to use upon read (integer)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The attributes <cite>comodel_name</cite> and <cite>inverse_name</cite> are mandatory except in
the case of related fields or field extensions.</p>
</dd></dl>

<dl class="class">
<dt id="openerp.fields.Many2many">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Many2many</tt><big>(</big><em>comodel_name=None</em>, <em>relation=None</em>, <em>column1=None</em>, <em>column2=None</em>, <em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1682'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1682"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">openerp.fields._RelationalMulti</span></tt></p>
<p>Many2many field; the value of such a field is the recordset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>comodel_name</strong> &#8211; name of the target model (string)</td>
</tr>
</tbody>
</table>
<p>The attribute <cite>comodel_name</cite> is mandatory except in the case of related
fields or field extensions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>relation</strong> &#8211; optional name of the table that stores the relation in
the database (string)</li>
<li><strong>column1</strong> &#8211; optional name of the column referring to &#8220;these&#8221; records
in the table <cite>relation</cite> (string)</li>
<li><strong>column2</strong> &#8211; optional name of the column referring to &#8220;those&#8221; records
in the table <cite>relation</cite> (string)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The attributes <cite>relation</cite>, <cite>column1</cite> and <cite>column2</cite> are optional. If not
given, names are automatically generated from model names, provided
<cite>model_name</cite> and <cite>comodel_name</cite> are different!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>domain</strong> &#8211; an optional domain to set on candidate values on the
client side (domain or string)</li>
<li><strong>context</strong> &#8211; an optional context to use on the client side when
handling that field (dictionary)</li>
<li><strong>limit</strong> &#8211; optional limit to use upon read (integer)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="openerp.fields.Reference">
<em class="property">class </em><tt class="descclassname">openerp.fields.</tt><tt class="descname">Reference</tt><big>(</big><em>selection=None</em>, <em>string=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="javascript:if(confirm('https://github.com/odoo/odoo/blob/8.0/openerp/fields.py  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1336'" tppabs="https://github.com/odoo/odoo/blob/8.0/openerp/fields.py#L1336"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#openerp.fields.Selection" title="openerp.fields.Selection"><tt class="xref py py-class docutils literal"><span class="pre">openerp.fields.Selection</span></tt></a></p>
</dd></dl>

</div>
</div>
<div class="section" id="inheritance-and-extension">
<span id="reference-orm-inheritance"></span><h2>Inheritance and extension</h2>
<p>Odoo provides three different mechanisms to extend models in a modular way:</p>
<ul class="simple">
<li>creating a new model from an existing one, adding new information to the
copy but leaving the original module as-is</li>
<li>extending models defined in other modules in-place, replacing the previous
version</li>
<li>delegating some of the model&#8217;s fields to records it contains</li>
</ul>
<img alt="../_images/inheritance_methods1.png" class="align-center" src="inheritance_methods1.png" tppabs="https://www.odoo.com/documentation/8.0/_images/inheritance_methods1.png" />
<div class="section" id="classical-inheritance">
<h3>Classical inheritance</h3>
<p>When using the <a class="reference internal" href="#openerp.models.Model._inherit" title="openerp.models.Model._inherit"><tt class="xref py py-attr docutils literal"><span class="pre">_inherit</span></tt></a> and
<a class="reference internal" href="#openerp.models.Model._name" title="openerp.models.Model._name"><tt class="xref py py-attr docutils literal"><span class="pre">_name</span></tt></a> attributes together, Odoo creates a new
model using the existing one (provided via
<a class="reference internal" href="#openerp.models.Model._inherit" title="openerp.models.Model._inherit"><tt class="xref py py-attr docutils literal"><span class="pre">_inherit</span></tt></a>) as a base. The new model gets all the
fields, methods and meta-information (defaults &amp; al) from its base.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Inheritance0</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s">&#39;inheritance.0&#39;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&quot;model 0&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&quot;This is {} record {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Inheritance1</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s">&#39;inheritance.1&#39;</span>
    <span class="n">_inherit</span> <span class="o">=</span> <span class="s">&#39;inheritance.0&#39;</span>

    <span class="k">def</span> <span class="nf">call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&quot;model 1&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>and using them:</p>
<div class="highlight-python"><div class="highlight"><pre>        <span class="n">a</span> <span class="o">=</span> <span class="n">env</span><span class="p">[</span><span class="s">&#39;inheritance.0&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create</span><span class="p">({</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;A&#39;</span><span class="p">})</span>
        <span class="n">a</span><span class="o">.</span><span class="n">call</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">env</span><span class="p">[</span><span class="s">&#39;inheritance.1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create</span><span class="p">({</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;B&#39;</span><span class="p">})</span>
        <span class="n">b</span><span class="o">.</span><span class="n">call</span><span class="p">()</span>
</pre></div>
</div>
<p>will yield:</p>
<div class="highlight-text"><div class="highlight"><pre>        This is model 0 record A
        This is model 1 record B
</pre></div>
</div>
<p>the second model has inherited from the first model&#8217;s <tt class="docutils literal"><span class="pre">check</span></tt> method and its
<tt class="docutils literal"><span class="pre">name</span></tt> field, but overridden the <tt class="docutils literal"><span class="pre">call</span></tt> method, as when using standard
<a class="reference external" href="javascript:if(confirm('https://docs.python.org/2/tutorial/classes.html  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://docs.python.org/2/tutorial/classes.html#tut-inheritance'" tppabs="https://docs.python.org/2/tutorial/classes.html#tut-inheritance" title="(in Python v2.7)"><em class="xref std std-ref">Python inheritance</em></a>.</p>
</div>
<div class="section" id="extension">
<h3>Extension</h3>
<p>When using <a class="reference internal" href="#openerp.models.Model._inherit" title="openerp.models.Model._inherit"><tt class="xref py py-attr docutils literal"><span class="pre">_inherit</span></tt></a> but leaving out
<a class="reference internal" href="#openerp.models.Model._name" title="openerp.models.Model._name"><tt class="xref py py-attr docutils literal"><span class="pre">_name</span></tt></a>, the new model replaces the existing one,
essentially extending it in-place. This is useful to add new fields or methods
to existing models (created in other modules), or to customize or reconfigure
them (e.g. to change their default sort order):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Extension0</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s">&#39;extension.0&#39;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s">&quot;A&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Extension1</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_inherit</span> <span class="o">=</span> <span class="s">&#39;extension.0&#39;</span>

    <span class="n">description</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s">&quot;Extended&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>        <span class="n">record</span> <span class="o">=</span> <span class="n">env</span><span class="p">[</span><span class="s">&#39;extension.0&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create</span><span class="p">({})</span>
        <span class="n">record</span><span class="o">.</span><span class="n">read</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>will yield:</p>
<div class="highlight-text"><div class="highlight"><pre>        {&#39;name&#39;: &quot;A&quot;, &#39;description&#39;: &quot;Extended&quot;}
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">it will also yield the various <a class="reference internal" href="#reference-orm-model-automatic"><em>automatic fields</em></a> unless they&#8217;ve been disabled</p>
</div>
</div>
<div class="section" id="delegation">
<h3>Delegation</h3>
<p>The third inheritance mechanism provides more flexibility (it can be altered
at runtime) but less power: using the <a class="reference internal" href="#openerp.models.Model._inherits" title="openerp.models.Model._inherits"><tt class="xref py py-attr docutils literal"><span class="pre">_inherits</span></tt></a>
a model <em>delegates</em> the lookup of any field not found on the current model
to &#8220;children&#8221; models. The delegation is performed via
<a class="reference internal" href="#openerp.fields.Reference" title="openerp.fields.Reference"><tt class="xref py py-class docutils literal"><span class="pre">Reference</span></tt></a> fields automatically set up on the parent
model:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Child0</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s">&#39;delegation.child0&#39;</span>

    <span class="n">field_0</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">Child1</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s">&#39;delegation.child1&#39;</span>

    <span class="n">field_1</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">Delegating</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s">&#39;delegation.parent&#39;</span>

    <span class="n">_inherits</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;delegation.child0&#39;</span><span class="p">:</span> <span class="s">&#39;child0_id&#39;</span><span class="p">,</span>
        <span class="s">&#39;delegation.child1&#39;</span><span class="p">:</span> <span class="s">&#39;child1_id&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">child0_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s">&#39;delegation.child0&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s">&#39;cascade&#39;</span><span class="p">)</span>
    <span class="n">child1_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s">&#39;delegation.child1&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s">&#39;cascade&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>        <span class="n">record</span> <span class="o">=</span> <span class="n">env</span><span class="p">[</span><span class="s">&#39;delegation.parent&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create</span><span class="p">({</span>
            <span class="s">&#39;child0_id&#39;</span><span class="p">:</span> <span class="n">env</span><span class="p">[</span><span class="s">&#39;delegation.child0&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create</span><span class="p">({</span><span class="s">&#39;field_0&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s">&#39;child1_id&#39;</span><span class="p">:</span> <span class="n">env</span><span class="p">[</span><span class="s">&#39;delegation.child1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">create</span><span class="p">({</span><span class="s">&#39;field_1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">})</span>
        <span class="n">record</span><span class="o">.</span><span class="n">field_0</span>
        <span class="n">record</span><span class="o">.</span><span class="n">field_1</span>
</pre></div>
</div>
<p>will result in:</p>
<div class="highlight-text"><div class="highlight"><pre>        0
        1
</pre></div>
</div>
<p>and it&#8217;s possible to write directly on the delegated field:</p>
<div class="highlight-python"><div class="highlight"><pre>        <span class="n">record</span><span class="o">.</span><span class="n">write</span><span class="p">({</span><span class="s">&#39;field_1&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">})</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">when using delegation inheritance, methods are <em>not</em> inherited,
only fields</p>
</div>
</div>
</div>
<div class="section" id="domains">
<span id="reference-orm-domains"></span><h2>Domains</h2>
<p>A domain is a list of criteria, each criterion being a triple (either a
<tt class="docutils literal"><span class="pre">list</span></tt> or a <tt class="docutils literal"><span class="pre">tuple</span></tt>) of <tt class="docutils literal"><span class="pre">(field_name,</span> <span class="pre">operator,</span> <span class="pre">value)</span></tt> where:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">field_name</span></tt> (<tt class="docutils literal"><span class="pre">str</span></tt>)</dt>
<dd>a field name of the current model, or a relationship traversal through
a <a class="reference internal" href="#openerp.fields.Many2one" title="openerp.fields.Many2one"><tt class="xref py py-class docutils literal"><span class="pre">Many2one</span></tt></a> using dot-notation e.g. <tt class="docutils literal"><span class="pre">'street'</span></tt>
or <tt class="docutils literal"><span class="pre">'partner_id.country'</span></tt></dd>
<dt><tt class="docutils literal"><span class="pre">operator</span></tt> (<tt class="docutils literal"><span class="pre">str</span></tt>)</dt>
<dd><p class="first">an operator used to compare the <tt class="docutils literal"><span class="pre">field_name</span></tt> with the <tt class="docutils literal"><span class="pre">value</span></tt>. Valid
operators are:</p>
<dl class="last docutils">
<dt><tt class="docutils literal"><span class="pre">=</span></tt></dt>
<dd>equals to</dd>
<dt><tt class="docutils literal"><span class="pre">!=</span></tt></dt>
<dd>not equals to</dd>
<dt><tt class="docutils literal"><span class="pre">&gt;</span></tt></dt>
<dd>greater than</dd>
<dt><tt class="docutils literal"><span class="pre">&gt;=</span></tt></dt>
<dd>greater than or equal to</dd>
<dt><tt class="docutils literal"><span class="pre">&lt;</span></tt></dt>
<dd>less than</dd>
<dt><tt class="docutils literal"><span class="pre">&lt;=</span></tt></dt>
<dd>less than or equal to</dd>
<dt><tt class="docutils literal"><span class="pre">=?</span></tt></dt>
<dd>unset or equals to (returns true if <tt class="docutils literal"><span class="pre">value</span></tt> is either <tt class="docutils literal"><span class="pre">None</span></tt> or
<tt class="docutils literal"><span class="pre">False</span></tt>, otherwise behaves like <tt class="docutils literal"><span class="pre">=</span></tt>)</dd>
<dt><tt class="docutils literal"><span class="pre">=like</span></tt></dt>
<dd>matches <tt class="docutils literal"><span class="pre">field_name</span></tt> against the <tt class="docutils literal"><span class="pre">value</span></tt> pattern. An underscore
<tt class="docutils literal"><span class="pre">_</span></tt> in the pattern stands for (matches) any single character; a
percent sign <tt class="docutils literal"><span class="pre">%</span></tt> matches any string of zero or more characters.</dd>
<dt><tt class="docutils literal"><span class="pre">like</span></tt></dt>
<dd>matches <tt class="docutils literal"><span class="pre">field_name</span></tt> against the <tt class="docutils literal"><span class="pre">%value%</span></tt> pattern. Similar to
<tt class="docutils literal"><span class="pre">=like</span></tt> but wraps <tt class="docutils literal"><span class="pre">value</span></tt> with &#8216;%&#8217; before matching</dd>
<dt><tt class="docutils literal"><span class="pre">not</span> <span class="pre">like</span></tt></dt>
<dd>doesn&#8217;t match against the <tt class="docutils literal"><span class="pre">%value%</span></tt> pattern</dd>
<dt><tt class="docutils literal"><span class="pre">ilike</span></tt></dt>
<dd>case insensitive <tt class="docutils literal"><span class="pre">like</span></tt></dd>
<dt><tt class="docutils literal"><span class="pre">not</span> <span class="pre">ilike</span></tt></dt>
<dd>case insensitive <tt class="docutils literal"><span class="pre">not</span> <span class="pre">like</span></tt></dd>
<dt><tt class="docutils literal"><span class="pre">=ilike</span></tt></dt>
<dd>case insensitive <tt class="docutils literal"><span class="pre">=like</span></tt></dd>
<dt><tt class="docutils literal"><span class="pre">in</span></tt></dt>
<dd>is equal to any of the items from <tt class="docutils literal"><span class="pre">value</span></tt>, <tt class="docutils literal"><span class="pre">value</span></tt> should be a
list of items</dd>
<dt><tt class="docutils literal"><span class="pre">not</span> <span class="pre">in</span></tt></dt>
<dd>is unequal to all of the items from <tt class="docutils literal"><span class="pre">value</span></tt></dd>
<dt><tt class="docutils literal"><span class="pre">child_of</span></tt></dt>
<dd><p class="first">is a child (descendant) of a <tt class="docutils literal"><span class="pre">value</span></tt> record.</p>
<p class="last">Takes the semantics of the model into account (i.e following the
relationship field named by
<tt class="xref py py-attr docutils literal"><span class="pre">_parent_name</span></tt>).</p>
</dd>
</dl>
</dd>
<dt><tt class="docutils literal"><span class="pre">value</span></tt></dt>
<dd>variable type, must be comparable (through <tt class="docutils literal"><span class="pre">operator</span></tt>) to the named
field</dd>
</dl>
<p>Domain criteria can be combined using logical operators in <em>prefix</em> form:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">'&amp;'</span></tt></dt>
<dd>logical <em>AND</em>, default operation to combine criteria following one
another. Arity 2 (uses the next 2 criteria or combinations).</dd>
<dt><tt class="docutils literal"><span class="pre">'|'</span></tt></dt>
<dd>logical <em>OR</em>, arity 2.</dd>
<dt><tt class="docutils literal"><span class="pre">'!'</span></tt></dt>
<dd><p class="first">logical <em>NOT</em>, arity 1.</p>
<div class="aphorism last admonition tip">
<p class="first admonition-title">Tip</p>
<p>Mostly to negate combinations of criteria</p>
<p class="last">Individual criterion generally have a negative form (e.g. <tt class="docutils literal"><span class="pre">=</span></tt> -&gt;
<tt class="docutils literal"><span class="pre">!=</span></tt>, <tt class="docutils literal"><span class="pre">&lt;</span></tt> -&gt; <tt class="docutils literal"><span class="pre">&gt;=</span></tt>) which is simpler than negating the positive.</p>
</div>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="first admonition-title">Example</p>
<p>To search for partners named <em>ABC</em>, from belgium or germany, whose language
is not english:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[(</span><span class="s">&#39;name&#39;</span><span class="p">,</span><span class="s">&#39;=&#39;</span><span class="p">,</span><span class="s">&#39;ABC&#39;</span><span class="p">),</span>
 <span class="p">(</span><span class="s">&#39;language.code&#39;</span><span class="p">,</span><span class="s">&#39;!=&#39;</span><span class="p">,</span><span class="s">&#39;en_US&#39;</span><span class="p">),</span>
 <span class="s">&#39;|&#39;</span><span class="p">,(</span><span class="s">&#39;country_id.code&#39;</span><span class="p">,</span><span class="s">&#39;=&#39;</span><span class="p">,</span><span class="s">&#39;be&#39;</span><span class="p">),</span>
     <span class="p">(</span><span class="s">&#39;country_id.code&#39;</span><span class="p">,</span><span class="s">&#39;=&#39;</span><span class="p">,</span><span class="s">&#39;de&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>This domain is interpreted as:</p>
<div class="last highlight-text"><div class="highlight"><pre>    (name is &#39;ABC&#39;)
AND (language is NOT english)
AND (country is Belgium OR Germany)
</pre></div>
</div>
</div>
</div>
<div class="section" id="porting-from-the-old-api">
<h2>Porting from the old API</h2>
<ul>
<li><p class="first">methods still written in the old API should be automatically bridged by the
ORM, no need to switch to the old API, just call them as if they were a new
API method. See <a class="reference internal" href="#reference-orm-oldapi-bridging"><em>Automatic bridging of old API methods</em></a> for more details.</p>
</li>
<li><p class="first"><a class="reference internal" href="#openerp.models.Model.search" title="openerp.models.Model.search"><tt class="xref py py-meth docutils literal"><span class="pre">search()</span></tt></a> returns a recordset, no point in e.g.
browsing its result</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">fields.related</span></tt> and <tt class="docutils literal"><span class="pre">fields.function</span></tt> are replaced by using a normal
field type with either a <tt class="docutils literal"><span class="pre">related=</span></tt> or a <tt class="docutils literal"><span class="pre">compute=</span></tt> parameter</p>
</li>
<li><p class="first"><a class="reference internal" href="#openerp.api.depends" title="openerp.api.depends"><tt class="xref py py-func docutils literal"><span class="pre">depends()</span></tt></a> on <tt class="docutils literal"><span class="pre">compute=</span></tt> methods <strong>must be complete</strong>,
it must list <strong>all</strong> the fields and sub-fields which the compute method
uses. It is better to have too many dependencies (will recompute the field
in cases where that is not needed) than not enough (will forget to recompute
the field and then values will be incorrect)</p>
</li>
<li><p class="first"><strong>remove</strong> all <tt class="docutils literal"><span class="pre">onchange</span></tt> methods on computed fields. Computed fields are
automatically re-computed when one of their dependencies is changed, and
that is used to auto-generate <tt class="docutils literal"><span class="pre">onchange</span></tt> by the client</p>
</li>
<li><p class="first">the decorators <a class="reference internal" href="#openerp.api.model" title="openerp.api.model"><tt class="xref py py-func docutils literal"><span class="pre">model()</span></tt></a> and <a class="reference internal" href="#openerp.api.multi" title="openerp.api.multi"><tt class="xref py py-func docutils literal"><span class="pre">multi()</span></tt></a> are
for bridging <em>when calling from the old API context</em>, for internal or pure
new-api (e.g. compute) they are useless</p>
</li>
<li><p class="first">remove <tt class="xref py py-attr docutils literal"><span class="pre">_default</span></tt>, replace by <tt class="docutils literal"><span class="pre">default=</span></tt>
parameter on corresponding fields</p>
</li>
<li><p class="first">if a field&#8217;s <tt class="docutils literal"><span class="pre">string=</span></tt> is the titlecased version of the field name:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s">&quot;Name&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>it is useless and should be removed</p>
</li>
<li><p class="first">the <tt class="docutils literal"><span class="pre">multi=</span></tt> parameter does not do anything on new API fields use the same
<tt class="docutils literal"><span class="pre">compute=</span></tt> methods on all relevant fields for the same result</p>
</li>
<li><p class="first">provide <tt class="docutils literal"><span class="pre">compute=</span></tt>, <tt class="docutils literal"><span class="pre">inverse=</span></tt> and <tt class="docutils literal"><span class="pre">search=</span></tt> methods by name (as a
string), this makes them overridable (removes the need for an intermediate
&#8220;trampoline&#8221; function)</p>
</li>
<li><p class="first">double check that all fields and methods have different names, there is no
warning in case of collision (because Python handles it before Odoo sees
anything)</p>
</li>
<li><p class="first">the normal new-api import is <tt class="docutils literal"><span class="pre">from</span> <span class="pre">openerp</span> <span class="pre">import</span> <span class="pre">fields,</span> <span class="pre">models</span></tt>. If
compatibility decorators are necessary, use <tt class="docutils literal"><span class="pre">from</span> <span class="pre">openerp</span> <span class="pre">import</span> <span class="pre">api,</span>
<span class="pre">fields,</span> <span class="pre">models</span></tt></p>
</li>
<li><p class="first">avoid the <a class="reference internal" href="#openerp.api.one" title="openerp.api.one"><tt class="xref py py-func docutils literal"><span class="pre">one()</span></tt></a> decorator, it probably does not do what
you expect</p>
</li>
<li><p class="first">remove explicit definition of <a class="reference internal" href="#openerp.models.Model.create_uid" title="openerp.models.Model.create_uid"><tt class="xref py py-attr docutils literal"><span class="pre">create_uid</span></tt></a>,
<a class="reference internal" href="#openerp.models.Model.create_date" title="openerp.models.Model.create_date"><tt class="xref py py-attr docutils literal"><span class="pre">create_date</span></tt></a>,
<a class="reference internal" href="#openerp.models.Model.write_uid" title="openerp.models.Model.write_uid"><tt class="xref py py-attr docutils literal"><span class="pre">write_uid</span></tt></a> and
<a class="reference internal" href="#openerp.models.Model.write_date" title="openerp.models.Model.write_date"><tt class="xref py py-attr docutils literal"><span class="pre">write_date</span></tt></a> fields: they are now created as
regular &#8220;legitimate&#8221; fields, and can be read and written like any other
field out-of-the-box</p>
</li>
<li><p class="first">when straight conversion is impossible (semantics can not be bridged) or the
&#8220;old API&#8221; version is not desirable and could be improved for the new API, it
is possible to use completely different &#8220;old API&#8221; and &#8220;new API&#8221;
implementations for the same method name using <a class="reference internal" href="#openerp.api.v7" title="openerp.api.v7"><tt class="xref py py-func docutils literal"><span class="pre">v7()</span></tt></a> and
<a class="reference internal" href="#openerp.api.v8" title="openerp.api.v8"><tt class="xref py py-func docutils literal"><span class="pre">v8()</span></tt></a>. The method should first be defined using the
old-API style and decorated with <a class="reference internal" href="#openerp.api.v7" title="openerp.api.v7"><tt class="xref py py-func docutils literal"><span class="pre">v7()</span></tt></a>, it should then be
re-defined using the exact same name but the new-API style and decorated
with <a class="reference internal" href="#openerp.api.v8" title="openerp.api.v8"><tt class="xref py py-func docutils literal"><span class="pre">v8()</span></tt></a>. Calls from an old-API context will be
dispatched to the first implementation and calls from a new-API context will
be dispatched to the second implementation. One implementation can call (and
frequently does) call the other by switching context.</p>
<div class="admonition danger">
<p class="first admonition-title">Danger</p>
<p class="last">using these decorators makes methods extremely difficult to
override and harder to understand and document</p>
</div>
</li>
<li><p class="first">uses of <tt class="xref py py-attr docutils literal"><span class="pre">_columns</span></tt> or
<tt class="xref py py-attr docutils literal"><span class="pre">_all_columns</span></tt> should be replaced by
<tt class="xref py py-attr docutils literal"><span class="pre">_fields</span></tt>, which provides access to instances of
new-style <a class="reference internal" href="#openerp.fields.Field" title="openerp.fields.Field"><tt class="xref py py-class docutils literal"><span class="pre">openerp.fields.Field</span></tt></a> instances (rather than old-style
<tt class="xref py py-class docutils literal"><span class="pre">openerp.osv.fields._column</span></tt>).</p>
<p>Non-stored computed fields created using the new API style are <em>not</em>
available in <tt class="xref py py-attr docutils literal"><span class="pre">_columns</span></tt> and can only be
inspected through <tt class="xref py py-attr docutils literal"><span class="pre">_fields</span></tt></p>
</li>
<li><p class="first">reassigning <tt class="docutils literal"><span class="pre">self</span></tt> in a method is probably unnecessary and may break
translation introspection</p>
</li>
<li><p class="first"><tt class="xref py py-class docutils literal"><span class="pre">Environment</span></tt> objects rely on some threadlocal state,
which has to be set up before using them. It is necessary to do so using the
<tt class="xref py py-meth docutils literal"><span class="pre">openerp.api.Environment.manage()</span></tt> context manager when trying to use
the new API in contexts where it hasn&#8217;t been set up yet, such as new threads
or a Python interactive environment:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">openerp</span> <span class="kn">import</span> <span class="n">api</span><span class="p">,</span> <span class="n">modules</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">modules</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">RegistryManager</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cr</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">env</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">Environment</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">{})</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">environments</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">api</span><span class="o">.</span><span class="n">Environment</span><span class="o">.</span><span class="n">manage</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">env</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">Environment</span><span class="p">(</span><span class="n">cr</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">{})</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">env</span><span class="p">[</span><span class="s">&#39;res.partner&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">browse</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">res.partner(1,)</span>
</pre></div>
</div>
</li>
</ul>
<div class="section" id="automatic-bridging-of-old-api-methods">
<span id="reference-orm-oldapi-bridging"></span><h3>Automatic bridging of old API methods</h3>
<p>When models are initialized, all methods are automatically scanned and bridged
if they look like models declared in the old API style. This bridging makes
them transparently callable from new-API-style methods.</p>
<p>Methods are matched as &#8220;old-API style&#8221; if their second positional parameter
(after <tt class="docutils literal"><span class="pre">self</span></tt>) is called either <tt class="docutils literal"><span class="pre">cr</span></tt> or <tt class="docutils literal"><span class="pre">cursor</span></tt>. The system also
recognizes the third positional parameter being called <tt class="docutils literal"><span class="pre">uid</span></tt> or <tt class="docutils literal"><span class="pre">user</span></tt> and
the fourth being called <tt class="docutils literal"><span class="pre">id</span></tt> or <tt class="docutils literal"><span class="pre">ids</span></tt>. It also recognizes the presence of
any parameter called <tt class="docutils literal"><span class="pre">context</span></tt>.</p>
<p>When calling such methods from a new API context, the system will
automatically fill matched parameters from the current
<tt class="xref py py-class docutils literal"><span class="pre">Environment</span></tt> (for <tt class="xref py py-attr docutils literal"><span class="pre">cr</span></tt>,
<tt class="xref py py-attr docutils literal"><span class="pre">user</span></tt> and
<tt class="xref py py-attr docutils literal"><span class="pre">context</span></tt>) or the current recordset (for <tt class="docutils literal"><span class="pre">id</span></tt>
and <tt class="docutils literal"><span class="pre">ids</span></tt>).</p>
<p>In the rare cases where it is necessary, the bridging can be customized by
decorating the old-style method:</p>
<ul>
<li><p class="first">disabling it entirely, by decorating a method with
<tt class="xref py py-func docutils literal"><span class="pre">noguess()</span></tt> there will be no bridging and methods will be
called the exact same way from the new and old API styles</p>
</li>
<li><p class="first">defining the bridge explicitly, this is mostly for methods which are matched
incorrectly (because parameters are named in unexpected ways):</p>
<dl class="docutils">
<dt><tt class="xref py py-func docutils literal"><span class="pre">cr()</span></tt></dt>
<dd><p class="first last">will automatically prepend the current cursor to explicitly provided
parameters, positionally</p>
</dd>
<dt><tt class="xref py py-func docutils literal"><span class="pre">cr_uid()</span></tt></dt>
<dd><p class="first last">will automatically prepend the current cursor and user&#8217;s id to explictly
provided parameters</p>
</dd>
<dt><tt class="xref py py-func docutils literal"><span class="pre">cr_uid_ids()</span></tt></dt>
<dd><p class="first last">will automatically prepend the current cursor, user&#8217;s id and recordset&#8217;s
ids to explicitly provided parameters</p>
</dd>
<dt><tt class="xref py py-func docutils literal"><span class="pre">cr_uid_id()</span></tt></dt>
<dd><p class="first">will loop over the current recordset and call the method once for each
record, prepending the current cursor, user&#8217;s id and record&#8217;s id to
explicitly provided parameters.</p>
<div class="last admonition danger">
<p class="first admonition-title">Danger</p>
<p class="last">the result of this wrapper is <em>always a list</em> when calling
from a new-API context</p>
</div>
</dd>
</dl>
<p>All of these methods have a <tt class="docutils literal"><span class="pre">_context</span></tt>-suffixed version
(e.g. <tt class="xref py py-func docutils literal"><span class="pre">cr_uid_context()</span></tt>) which also passes the current
context <em>by keyword</em>.</p>
</li>
<li><p class="first">dual implementations using <a class="reference internal" href="#openerp.api.v7" title="openerp.api.v7"><tt class="xref py py-func docutils literal"><span class="pre">v7()</span></tt></a> and
<a class="reference internal" href="#openerp.api.v8" title="openerp.api.v8"><tt class="xref py py-func docutils literal"><span class="pre">v8()</span></tt></a> will be ignored as they provide their own &#8220;bridging&#8221;</p>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </div>
    <div class="footer">
      <div class="container">
        <ul class="docs-footer-links muted">
            <li>
                &copy; Copyright <a href="javascript:if(confirm('https://odoo.com/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://odoo.com/'" tppabs="https://odoo.com/">Odoo S.A.</a>.
            </li><li>路</li>
            <li>Created using <a href="javascript:if(confirm('http://sphinx-doc.org/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://sphinx-doc.org/'" tppabs="http://sphinx-doc.org/">Sphinx</a> 1.2.2.</li>
        </ul>
      <p>
        odoo docs theme based on <a href="javascript:if(confirm('http://getbootstrap.com/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://getbootstrap.com/'" tppabs="http://getbootstrap.com/">Bootstrap
        3.2 documentation</a> adapted to
        <a href="javascript:if(confirm('http://sphinx-doc.org/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://sphinx-doc.org/'" tppabs="http://sphinx-doc.org/">Sphinx</a> output with branding and
        color changes.
      </p>
      </div>
    </div><script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','analytics.js'/*tpa=https://www.google-analytics.com/analytics.js*/,'ga');

    ga('create', 'UA-52174891-1', 'auto');
    ga('send','pageview');
    </script>
  </body>
</html>